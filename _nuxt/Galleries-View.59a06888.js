import{a as g}from"./axios.47b9d439.js";import{r as m,o as f,b as n,c as i,t as l,f as h,e as s,F as v,a5 as x,aB as I}from"./entry.540372c9.js";const k={class:"min-h-screen bg-gray-200 p-5"},b={key:0,class:"text-red-500 text-center my-10"},F={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},w={class:"flip-container"},C={class:"flipper-front"},B=["src","onClick"],G={class:"flipper-back"},V=["src","onClick"],$={class:"text-xl font-semibold mt-3"},E={class:"text-sm text-gray-600 mt-1"},y={__name:"Galleries-View",setup(M){const o=m(null),r=m(null);f(async()=>{try{const e=await g.get("/api/galleries");e.data.success?(o.value=e.data.Galleries,o.value.forEach(a=>{a.currentImage=c(a),a.isFlipped=!1})):r.value="Failed to fetch data."}catch(e){r.value=e.message}});const c=e=>{if(!e.imagePaths)return"";const a=e.imagePaths.split(",").map(t=>`/images/${e.name}/${t.trim()}`);return a[Math.floor(Math.random()*a.length)]},u=()=>{o.value.forEach(e=>{e.nextImage=c(e),e.isFlipped=!e.isFlipped;const a=e.isFlipped?300:150;setTimeout(()=>{e.currentImage=e.nextImage},a)})},p=e=>e.isFlipped?"rotateY(180deg)":"rotateY(0deg)",d=e=>{e.currentImage=c(e)};return(e,a)=>(n(),i("div",k,[r.value?(n(),i("div",b,"An error occurred: "+l(r.value),1)):h("",!0),s("div",{class:"text-center my-5"},[s("button",{class:"refresh-btn px-8 py-2 rounded transition-colors duration-300 hover:bg-red-500",onClick:u}," Refresh Images ")]),s("div",F,[(n(!0),i(v,null,x(o.value,t=>(n(),i("div",{key:t.id,class:"gallery-card shadow-lg rounded bg-white p-4"},[s("div",w,[s("div",{class:"flip-content",style:I({transform:p(t)})},[s("div",C,[s("img",{src:t.currentImage,alt:"Image from {{ gallery.name }}",class:"gallery-img w-full",onClick:_=>d(t)},null,8,B)]),s("div",G,[s("img",{src:t.nextImage,alt:"Next image from {{ gallery.name }}",class:"gallery-img w-full",onClick:_=>d(t)},null,8,V)])],4)]),s("h2",$,l(t.name),1),s("p",E,l(t.description),1)]))),128))])]))}};export{y as default};
