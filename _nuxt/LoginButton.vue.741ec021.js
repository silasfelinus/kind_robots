import p from"./LoginForm.6bb2694f.js";import{d as x,X as y,G as l,r,W as h,b as n,c as i,e as t,D as k,t as L,O as b,H as w,f as B,F as C}from"./entry.db0b0373.js";const S={class:"flex items-center"},F={class:"ml-4"},N={key:0},V=t("div",{class:"hidden lg:inline"},"Salutations,",-1),D={key:1},E=x({__name:"LoginButton",setup(G){const a=y(),d=l(()=>a.user),u=l(()=>a.isLoggedIn),c=r(!1),g=r(""),s=r(!1),_=l(()=>{var e;return((e=d.value)==null?void 0:e.username)||"Kind Guest"});h(u,e=>{e&&(s.value=!1)});const m=async()=>{try{c.value=!0,await a.logout()}catch{g.value="Failed to logout. Please try again."}finally{c.value=!1}};return(e,o)=>{const f=p;return n(),i(C,null,[t("div",S,[t("div",F,[u.value?(n(),i("div",N,[V,k(" "+L(_.value)+"! ",1),t("button",{class:"b p-2 rounded-lg text-white text-sm",onClick:m},"logout")])):(n(),i("div",D,[t("button",{class:"bg-primary p-2 rounded-lg text-white text-lg",onClick:o[0]||(o[0]=v=>s.value=!0)},"Login")]))])]),b(s)?(n(),w(f,{key:0,onClose:o[1]||(o[1]=v=>s.value=!1)})):B("",!0)],64)}}});export{E as _};
