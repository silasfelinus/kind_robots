import{_ as y}from"./UserAvatar.vue.754e8aa1.js";import w from"./theme-toggle.d16b8a3d.js";import{_ as A}from"./ButterflyToggle.vue.6577f341.js";import{d as D,W as B,E as m,r as L,o as M,b as t,c as s,g as o,e as a,t as _,X as v,f as h,n as O,a0 as R}from"./entry.45f7d34b.js";import{u as T,T as d,S as r}from"./toggleStore.6a8b1b54.js";const E={key:0,class:"flex flex-col w-full"},U={class:"flex items-center space-x-4"},z={class:"text-lg md:text-xl"},H={class:"hidden md:inline-block"},N=["onClick"],P={class:"flex items-center space-x-4"},F={key:1,class:"flex items-center space-x-4"},V={class:"text-lg md:text-xl"},$=["onClick"],q=D({__name:"NewDashboard",setup(G){const n=B(),C=m(()=>n.mana),u=m(()=>n.user),i=m(()=>n.isLoggedIn),l=T(),e=L(l.getScreenState(d.USER_DASHBOARD)===r.COMPACT);M(()=>{l.loadFromLocalStorage(),e.value=l.getScreenState(d.USER_DASHBOARD)===r.COMPACT});const b=()=>{e.value=!e.value;const c=e.value?r.COMPACT:r.FULL;l.setScreenState(d.USER_DASHBOARD,c)},g=async()=>{if(i.value)try{await n.logout()}catch(c){R({error:c,message:"Failed to logout. Please try again."})}};return(c,I)=>{var p,S;const k=y,x=w,f=A;return t(),s("header",{class:O(e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1")},[o(k,{size:e.value?"small":"large",class:"md:max-w-xs lg:max-w-sm xl:max-w-md",onClick:b},null,8,["size"]),e.value?(t(),s("div",F,[a("span",V,_(((S=u.value)==null?void 0:S.username)||"Kind Guest"),1),i.value?(t(),s("button",{key:0,class:"text-sm md:text-md text-gray-500",onClick:v(g,["stop"])},"Logout",8,$)):h("",!0),o(x),o(f)])):(t(),s("div",E,[a("div",U,[a("span",z,_(((p=u.value)==null?void 0:p.username)||"Kind Guest"),1),a("span",H,_(C.value)+"/ 9 Jellybeans Discovered",1),i.value?(t(),s("button",{key:0,class:"text-sm md:text-md text-gray-500",onClick:v(g,["stop"])}," Logout ",8,N)):h("",!0)]),a("div",P,[o(x),o(f)])]))],2)}}});export{q as _};
