import{_ as L}from"./DuBwAjuw.js";import k from"./CaDFFSue.js";import{_ as O}from"./D2nYB9km.js";import{_ as w}from"./DH_oqzUO.js";import B from"./Bm4-YvVU.js";import{d as M,W as T,E as t,X as z,r as F,o as U,c as l,e as i,f as s,h as a,t as u,g as d,Y as $,n as I,F as N,l as P}from"./Bh_OSRoe.js";import{u as j,T as m,S as c}from"./CwxXXpLw.js";import"./BWBek36E.js";import"./Bm4K94d7.js";import"./CwLGbeD0.js";import"./CnBs8u9L.js";import"./Bola1RCx.js";import"./BNBFR6TF.js";const H={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K={class:"toggle-section"},W=M({__name:"RoomDashboard",setup(X){const n=T(),p=t(()=>n.mana),g=t(()=>n.user),_=t(()=>n.isLoggedIn),f=z(),r=j(),e=F(r.getScreenState(m.USER_DASHBOARD)===c.COMPACT);U(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(m.USER_DASHBOARD)===c.COMPACT});const S=t(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),v=t(()=>e.value?"small":"large"),b=t(()=>{var o;return((o=g.value)==null?void 0:o.username)||"Kind Guest"}),h=t(()=>`${p.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(m.USER_DASHBOARD,o)},y=async()=>{if(_.value)try{await f.handleError(async()=>{await n.logout()},"GENERAL_ERROR","Failed to logout. Please try again.")}catch(o){console.error("An unexpected error occurred:",o)}};return(o,Y)=>{const R=L,x=k,A=O,D=w,E=B;return l(),i(N,null,[s("header",{class:I(S.value)},[a(R,{size:v.value,class:"avatar",onClick:C},null,8,["size"]),s("div",H,[s("div",V,[s("span",G,u(b.value),1),e.value?d("",!0):(l(),i("span",J,u(h.value),1)),_.value?(l(),i("button",{key:1,class:"logout-button",onClick:$(y,["stop"])}," Logout ")):d("",!0)]),s("div",K,[a(x),a(A)])])],2),a(D),a(E)],64)}}}),me=P(W,[["__scopeId","data-v-bb2ffed4"]]);export{me as default};
