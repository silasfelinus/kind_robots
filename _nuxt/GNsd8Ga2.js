import{a8 as f,u as g,ad as _,c as x,e as y,n as b,N as t,aI as k,b6 as w}from"./Bh_OSRoe.js";const T={__name:"LoadingBar",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3}},setup(i){const r=i,e=f({percent:0,show:!0,canSucceed:!0});let a=null,n=null,s;const o=()=>{a&&clearInterval(a),n&&clearTimeout(n),a=null},p=()=>{o(),e.percent=0,e.canSucceed=!0,r.throttle?n=setTimeout(c,r.throttle):c()},h=u=>{e.percent=Math.min(100,Math.floor(e.percent+u))},m=()=>{e.percent=100,d()},d=()=>{o(),setTimeout(()=>{e.show=!1,setTimeout(()=>{e.percent=0},400)},500)},c=()=>{e.show=!0,s=1e4/Math.floor(r.duration),a=w(()=>{h(s)},100)},l=g();return l.hook("page:start",p),l.hook("page:finish",m),_(()=>o),(u,N)=>(x(),y("div",{class:b(["nuxt-progress",{"nuxt-progress-failed":!t(e).canSucceed}]),style:k({width:t(e).percent+"%",left:t(e).left,height:r.height+"px",opacity:t(e).show?1:0,backgroundSize:100/t(e).percent*100+"% auto"})},null,6))}};export{T as default};
