import{_ as L}from"./UserAvatar.vue.e745f7b8.js";import B from"./theme-toggle.8bbc3f70.js";import{_ as M}from"./ButterflyToggle.vue.554bee5a.js";import{_ as O}from"./RoomMeta.vue.228382da.js";import T from"./SmartLinks.80e83420.js";import{d as w,X as z,G as s,r as F,o as U,b as c,c as _,e as t,g as a,t as g,f as d,Y as $,n as E,F as H,a1 as I,l as P}from"./entry.540372c9.js";import{u as j,T as m,S as l}from"./toggleStore.67450f96.js";import"./Icon.98c1e922.js";import"./screenStore.d5f8232a.js";import"./RoomTitle.vue.7135b3b1.js";import"./nuxt-link.0f2a5a85.js";const N={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K=["onClick"],X={class:"toggle-section"},Y=w({__name:"RoomDashboard",setup(q){const n=z(),p=s(()=>n.mana),f=s(()=>n.user),i=s(()=>n.isLoggedIn),r=j(),e=F(r.getScreenState(m.USER_DASHBOARD)===l.COMPACT);U(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(m.USER_DASHBOARD)===l.COMPACT});const v=s(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),S=s(()=>e.value?"small":"large"),b=s(()=>{var o;return((o=f.value)==null?void 0:o.username)||"Kind Guest"}),h=s(()=>`${p.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?l.COMPACT:l.FULL;r.setScreenState(m.USER_DASHBOARD,o)},y=async()=>{if(i.value)try{await n.logout()}catch(o){const u=I({error:o,message:"Failed to logout. Please try again."});console.error(u.message)}};return(o,u)=>{const x=L,D=B,R=M,A=O,k=T;return c(),_(H,null,[t("header",{class:E(v.value)},[a(x,{size:S.value,class:"avatar",onClick:C},null,8,["size"]),t("div",N,[t("div",V,[t("span",G,g(b.value),1),e.value?d("",!0):(c(),_("span",J,g(h.value),1)),i.value?(c(),_("button",{key:1,class:"logout-button",onClick:$(y,["stop"])},"Logout",8,K)):d("",!0)]),t("div",X,[a(D),a(R)])])],2),a(A),a(k)],64)}}});const ce=P(Y,[["__scopeId","data-v-05178639"]]);export{ce as default};
