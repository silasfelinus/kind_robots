import{d as O,W as C,aS as I,aQ as L,X as V,E as u,r as a,c as n,e as d,k as $,f as o,t as S,Z as B,$ as D,h as b,g as E,G,F as W,a5 as j,a1 as w,aN as F}from"./Bh_OSRoe.js";import{_ as U}from"./DL1M4P07.js";import K from"./CxF24ORY.js";import{u as J}from"./com5s9YY.js";const Q={class:"bg-base-200 rounded-2xl p-8 text-lg"},X=o("h1",{class:"text-2xl mb-4"},"Art-Generator",-1),Z={class:"font-bold"},q={class:"mt-4"},z=["disabled"],H={key:0,class:"mt-4 flex flex-col items-center"},Y={class:"loader flex justify-center mt-2"},ne=O({__name:"Art-Generator",setup(ee){const N=J(),p=C(),k=I(),_=L(),f=V(),h=u(()=>_.selectedPitch),v=u(()=>{var e;return((e=_.selectedPitch)==null?void 0:e.pitch)||""}),l=a(""),g=a(""),P=u(()=>p.username),R=u(()=>p.userId),c=a(!1),m=a([]),x=a(null),y=a(!1),T=()=>{x.value=k.randomLoadMessage()};(()=>{const e=N.randomDream();e&&(l.value=e)})();const A=async()=>{var e,s;T(),c.value=!0;try{const t=await fetch("/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:`${v.value}, ${l.value}, ${g.value}`,userName:P.value,galleryName:"cafefred",pitchId:(e=h.value)==null?void 0:e.id,title:(s=h.value)==null?void 0:s.title,isMature:!1,isPublic:!0,isOrphan:!0,flavorText:g.value,userId:R.value,galleryId:21})});if(t.ok){const r=await t.json();m.value.unshift(r.newArt),y.value=!0,console.log("Art generated:",m)}else{const r=await t.text();f.setError(w.NETWORK_ERROR,r),console.error("Failed to generate art:",r)}}catch(t){const r=t instanceof Error?t.message:String(t);f.setError(w.UNKNOWN_ERROR,r),console.error("Error generating art:",r)}finally{c.value=!1}};return(e,s)=>{const t=F,r=U,M=K;return n(),d("div",Q,[X,$(" Enter your Art Prompt. We will automatically begin with the pitch: "),o("div",Z,S(v.value),1),o("div",q,[B(o("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>l.value=i),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[D,l.value]])]),o("button",{disabled:c.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:A}," Generate Art for Pitch ",8,z),c.value?(n(),d("div",H,[o("p",null,S(x.value),1),o("div",Y,[b(t)])])):E("",!0),y.value?(n(),G(r,{key:1,id:11})):E("",!0),(n(!0),d(W,null,j(m.value,i=>(n(),d("div",{key:i.id,class:"mt-4"},[b(M,{art:i},null,8,["art"])]))),128))])}}});export{ne as _};
