import{d as T,W as A,aP as G,aR as I,r as a,E as g,b as s,c as o,e as t,t as f,f as m,Y as L,Z as B,g as h,G as V,F as j,a4 as F,a0 as x,aK as O}from"./entry.48ebb39a.js";import{_ as P}from"./milestone-reward.vue.2055a4f0.js";import R from"./ArtCard.9efd537c.js";import{u as U}from"./dreamStore.088eaf59.js";const $={class:"bg-base-200 rounded-2xl p-8 text-lg"},H=t("h1",{class:"text-2xl mb-4"},"Dream-Generator",-1),J={class:"mt-4"},K={key:0},W={class:"mt-4"},Y=["disabled"],Z={key:0,class:"mt-4 flex flex-col items-center"},q={class:"loader flex justify-center mt-2"},ae=T({__name:"DreamGenerator",setup(z){const y=U(),p=A(),b=G();I();const _=a(!1),n=a(""),k=a(""),w=g(()=>p.username),S=g(()=>p.userId),l=a(!1),u=a([]),c=a(null),v=a(null),D=()=>{v.value=b.randomLoadMessage()},E=()=>{c.value=y.randomDream(),n.value=c.value},N=async()=>{D(),l.value=!0;try{const r=await fetch("https://kindrobots.org/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n.value,userName:w.value,galleryName:"cafefred",pitchId:6,title:"dreamscapes",isMature:!1,isPublic:!0,isOrphan:!0,flavorText:k.value,userId:S.value,galleryId:21,channelName:"dreamscapes"})});if(r.ok){const e=await r.json();u.value.unshift(e.newArt),_.value=!0,console.log("Art generated:",u)}else{const e=await r.text(),i=x(new Error(e));console.error("Failed to generate dream:",i.message)}}catch(r){const e=x(r);console.error("Error generating art:",e.message)}finally{l.value=!1}};return(r,e)=>{const i=O,C=P,M=R;return s(),o("div",$,[H,t("div",J,[t("button",{class:"bg-accent rounded-2xl p-2 text-white",onClick:E}," Get Random Dream "),c.value?(s(),o("p",K,f(c.value),1)):m("",!0)]),t("div",W,[L(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>n.value=d),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[B,n.value]])]),t("button",{disabled:l.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:N}," Generate Dream ",8,Y),l.value?(s(),o("div",Z,[t("p",null,f(v.value),1),t("div",q,[h(i)])])):m("",!0),_.value?(s(),V(C,{key:1,id:11})):m("",!0),(s(!0),o(j,null,F(u.value,d=>(s(),o("div",{key:d.id,class:"mt-4"},[h(M,{art:d},null,8,["art"])]))),128))])}}});export{ae as _};
