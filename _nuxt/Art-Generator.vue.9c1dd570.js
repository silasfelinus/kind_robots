import{d as C,W as M,aP as I,aN as L,E as i,r as a,b as n,c as d,C as V,e as r,t as b,N as B,Y as G,Z as j,g as w,f as S,G as D,F,a4 as O,a0 as k,aK as U}from"./entry.45f7d34b.js";import{_ as W}from"./milestone-reward.vue.54f73f0c.js";import $ from"./ArtCard.3e3a6e7a.js";import{u as H}from"./dreamStore.d51829a9.js";const J={class:"bg-base-200 rounded-2xl p-8 text-lg"},K=r("h1",{class:"text-2xl mb-4"},"Art-Generator",-1),Y={class:"font-bold"},Z={class:"mt-4"},q=["disabled"],z={key:0,class:"mt-4 flex flex-col items-center"},Q={class:"loader flex justify-center mt-2"},re=C({__name:"Art-Generator",setup(R){H();const _=M(),N=I(),h=L(),f=i(()=>h.selectedPitch),v=a(!1),g=i(()=>{var s;return(s=h.selectedPitch)==null?void 0:s.pitch}),u=a(""),x=a(""),P=i(()=>_.username),A=i(()=>_.userId),l=a(!1),m=a([]);a(null);const y=a(null),E=()=>{y.value=N.randomLoadMessage()},T=async()=>{var s,o;E(),l.value=!0;try{const e=await fetch("/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:g.value+", "+u.value+", "+x.value,userName:P.value,galleryName:"cafefred",pitchId:(s=f.value)==null?void 0:s.id,title:(o=f.value)==null?void 0:o.title,isMature:!1,isPublic:!0,isOrphan:!0,flavorText:x.value,userId:A.value,galleryId:21})});if(e.ok){const t=await e.json();m.value.unshift(t.newArt),v.value=!0,console.log("Art generated:",m)}else{const t=await e.text(),p=k(new Error(t));console.error("Failed to generate art:",p.message)}}catch(e){const t=k(e);console.error("Error generating art:",t.message)}finally{l.value=!1}};return(s,o)=>{const e=U,t=W,p=$;return n(),d("div",J,[K,V(" Enter your Art Prompt. We will automatically begin with the pitch: "),r("div",Y,b(B(g)),1),r("div",Z,[G(r("input",{"onUpdate:modelValue":o[0]||(o[0]=c=>u.value=c),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[j,u.value]])]),r("button",{disabled:l.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:T}," Generate Art for Pitch ",8,q),l.value?(n(),d("div",z,[r("p",null,b(y.value),1),r("div",Q,[w(e)])])):S("",!0),v.value?(n(),D(t,{key:1,id:11})):S("",!0),(n(!0),d(F,null,O(m.value,c=>(n(),d("div",{key:c.id,class:"mt-4"},[w(p,{art:c},null,8,["art"])]))),128))])}}});export{re as _};
