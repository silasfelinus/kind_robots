import{d as f,aD as m,u as g,aa as _,c as x,e as y,n as b,aK as k,b3 as w}from"./DscwyYbq.js";const v=f({__name:"LoadingBar",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3}},setup(u){const t=u,e=m({percent:0,show:!0,canSucceed:!0,left:"0px"});let n=null,a=null,s=0;const r=()=>{n!==null&&clearInterval(n),a!==null&&clearTimeout(a),n=null,a=null},i=()=>{r(),e.percent=0,e.canSucceed=!0,t.throttle?a=setTimeout(l,t.throttle):l()},p=o=>{e.percent=Math.min(100,Math.floor(e.percent+o))},h=()=>{e.percent=100,d()},d=()=>{r(),setTimeout(()=>{e.show=!1,setTimeout(()=>{e.percent=0},400)},500)},l=()=>{e.show=!0,s=1e4/Math.floor(t.duration),n=w(()=>{p(s)},100)},c=g();return c.hook("page:start",i),c.hook("page:finish",h),_(()=>r()),(o,S)=>(x(),y("div",{class:b(["nuxt-progress",{"nuxt-progress-failed":!e.canSucceed}]),style:k({width:e.percent+"%",left:e.left,height:t.height+"px",opacity:e.show?1:0,backgroundSize:(e.percent>0?100/e.percent*100:0)+"% auto"})},null,6))}});export{v as default};
