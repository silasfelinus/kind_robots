import{_ as L}from"./UserAvatar.vue.cb24def3.js";import B from"./theme-toggle.251eda54.js";import{_ as M}from"./ButterflyToggle.vue.e2efbcac.js";import{_ as O}from"./RoomMeta.vue.7602e48a.js";import T from"./SmartLinks.ca1b502d.js";import{d as w,X as z,G as s,r as F,o as U,b as l,c as _,e as t,g as a,t as g,f as d,Y as $,n as E,F as H,a1 as I,k as P}from"./entry.ce19ad50.js";import{u as j,T as m,S as c}from"./toggleStore.7ce21ad9.js";import"./Icon.fcab8945.js";import"./screenStore.8e33c4b7.js";import"./RoomTitle.vue.6c047697.js";import"./nuxt-link.6443b85f.js";const N={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K=["onClick"],X={class:"toggle-section"},Y=w({__name:"RoomDashboard",setup(q){const n=z(),p=s(()=>n.mana),f=s(()=>n.user),i=s(()=>n.isLoggedIn),r=j(),e=F(r.getScreenState(m.USER_DASHBOARD)===c.COMPACT);U(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(m.USER_DASHBOARD)===c.COMPACT});const v=s(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),S=s(()=>e.value?"small":"large"),b=s(()=>{var o;return((o=f.value)==null?void 0:o.username)||"Kind Guest"}),h=s(()=>`${p.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(m.USER_DASHBOARD,o)},y=async()=>{if(i.value)try{await n.logout()}catch(o){const u=I({error:o,message:"Failed to logout. Please try again."});console.error(u.message)}};return(o,u)=>{const x=L,D=B,R=M,k=O,A=T;return l(),_(H,null,[t("header",{class:E(v.value)},[a(x,{size:S.value,class:"avatar",onClick:C},null,8,["size"]),t("div",N,[t("div",V,[t("span",G,g(b.value),1),e.value?d("",!0):(l(),_("span",J,g(h.value),1)),i.value?(l(),_("button",{key:1,class:"logout-button",onClick:$(y,["stop"])},"Logout",8,K)):d("",!0)]),t("div",X,[a(D),a(R)])])],2),a(k),a(A)],64)}}});const le=P(Y,[["__scopeId","data-v-05178639"]]);export{le as default};
