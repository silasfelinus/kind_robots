import{d as _,aA as f,ay as P,a1 as E,r as u,I as y,c as s,e as o,W as S,aE as A,f as l,F as k,a7 as w,t as d,g as N,a3 as C}from"./BwHe1LQq.js";const B=l("h1",null,"Pitch Generator",-1),G=["value"],R={key:0,class:"text-red-500 mt-2"},F=_({__name:"PitchGenerator",setup(b){const h=f(),t=P(),p=E(),a=u(null),m=y(()=>t.publicPitches),c=u(null),g=()=>{t.selectPitch(a.value||1)},v=async()=>{if(t.selectedPitch){const n=t.selectedPitch,r={prompt:n.title,galleryName:"cafefred",pitchName:n.title};try{const e=await h.generateArt(r);if(!e.success)throw new Error(e.message||"Failed to generate art.");console.log("Art generated successfully.")}catch(e){const i=e instanceof Error?e.message:"Unknown error occurred.";p.setError(C.GENERAL_ERROR,i),c.value=i}}else console.warn("No pitch selected.")};return(n,r)=>(s(),o("div",null,[B,S(l("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),onChange:g},[(s(!0),o(k,null,w(m.value,e=>(s(),o("option",{key:e.id,value:e.id},d(e.title),9,G))),128))],544),[[A,a.value]]),l("button",{onClick:v},"Generate Art"),c.value?(s(),o("div",R,d(c.value),1)):N("",!0)]))}});export{F as default};
