import{_ as A}from"./BWdQb3rM.js";import w from"./DGDgJXCI.js";import{_ as D}from"./DMgmhSq8.js";import{d as E,X as R,Y as T,G as m,r as B,o as L,c as s,e as o,h as a,f as n,t as _,Z as v,g as h,n as O,a2 as M}from"./C_jZrYmJ.js";import{u as U,T as u,S as c}from"./BxBAFK35.js";const z={key:0,class:"flex flex-col w-full"},H={class:"flex items-center space-x-4"},N={class:"text-lg md:text-xl"},P={class:"hidden md:inline-block"},F={class:"flex items-center space-x-4"},G={key:1,class:"flex items-center space-x-4"},V={class:"text-lg md:text-xl"},Z=E({__name:"NewDashboard",setup($){const r=R(),y=T(),C=m(()=>r.mana),d=m(()=>r.user),i=m(()=>r.isLoggedIn),l=U(),e=B(l.getScreenState(u.USER_DASHBOARD)===c.COMPACT);L(()=>{l.loadFromLocalStorage(),e.value=l.getScreenState(u.USER_DASHBOARD)===c.COMPACT});const b=()=>{e.value=!e.value;const t=e.value?c.COMPACT:c.FULL;l.setScreenState(u.USER_DASHBOARD,t)},g=async()=>{if(i.value)try{await r.logout()}catch(t){y.setError(M.AUTH_ERROR,t instanceof Error?t.message:"Failed to logout. Please try again.")}};return(t,I)=>{var p,S;const k=A,x=w,f=D;return s(),o("header",{class:O(e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1")},[a(k,{size:e.value?"small":"large",class:"md:max-w-xs lg:max-w-sm xl:max-w-md",onClick:b},null,8,["size"]),e.value?(s(),o("div",G,[n("span",V,_(((S=d.value)==null?void 0:S.username)||"Kind Guest"),1),i.value?(s(),o("button",{key:0,class:"text-sm md:text-md text-gray-500",onClick:v(g,["stop"])}," Logout ")):h("",!0),a(x),a(f)])):(s(),o("div",z,[n("div",H,[n("span",N,_(((p=d.value)==null?void 0:p.username)||"Kind Guest"),1),n("span",P,_(C.value)+"/ 9 Jellybeans Discovered",1),i.value?(s(),o("button",{key:0,class:"text-sm md:text-md text-gray-500",onClick:v(g,["stop"])}," Logout ")):h("",!0)]),n("div",F,[a(x),a(f)])]))],2)}}});export{Z as _};
