import{_ as L}from"./CustWHHd.js";import{d as k,a1 as w,I as a,a2 as O,r as B,o as M,c as l,e as _,f as s,h as t,t as m,g as d,Y as T,n as z,F,av as I,aw as U,ba as $,l as N}from"./pZiLMi_1.js";import{_ as P}from"./C3YTgsev.js";import{u as j,T as u,S as c}from"./CIPZ8sf7.js";const H={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K={class:"toggle-section"},Y=k({__name:"RoomDashboard",setup(q){const n=w(),g=a(()=>n.mana),f=a(()=>n.user),i=a(()=>n.isLoggedIn),S=O(),r=j(),e=B(r.getScreenState(u.USER_DASHBOARD)===c.COMPACT);M(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(u.USER_DASHBOARD)===c.COMPACT});const p=a(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),v=a(()=>e.value?"small":"large"),b=a(()=>{var o;return((o=f.value)==null?void 0:o.username)||"Kind Guest"}),h=a(()=>`${g.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(u.USER_DASHBOARD,o)},y=async()=>{if(i.value)try{await S.handleError(async()=>{await n.logout()},"GENERAL_ERROR","Failed to logout. Please try again.")}catch(o){console.error("An unexpected error occurred:",o)}};return(o,Q)=>{const R=L,x=I,A=U,D=P,E=$;return l(),_(F,null,[s("header",{class:z(p.value)},[t(R,{size:v.value,class:"avatar",onClick:C},null,8,["size"]),s("div",H,[s("div",V,[s("span",G,m(b.value),1),e.value?d("",!0):(l(),_("span",J,m(h.value),1)),i.value?(l(),_("button",{key:1,class:"logout-button",onClick:T(y,["stop"])}," Logout ")):d("",!0)]),s("div",K,[t(x),t(A)])])],2),t(D),t(E)],64)}}}),oe=N(Y,[["__scopeId","data-v-0d465ab6"]]);export{oe as default};
