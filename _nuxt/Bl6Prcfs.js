import{l as m,r as l,o as p,b as v,c as _,e as f,f as t,aO as g,p as h,j as w}from"./NJWOSLyt.js";const c=o=>(h("data-v-e14d331d"),o=o(),w(),o),y={class:"teleport-container"},x=c(()=>t("div",{class:"cover top"},null,-1)),b=c(()=>t("div",{class:"cover bottom"},null,-1)),L=c(()=>t("div",{class:"cover left"},null,-1)),I=c(()=>t("div",{class:"cover right"},null,-1)),E={__name:"Magic-Window",setup(o){const r=l(""),n=l(!0),i=l(!1),d=async()=>{i.value=!0,n.value=!0;const e=document.querySelector(".image-layer");e.classList.add("pixelate-out"),await new Promise(s=>setTimeout(s,750));try{const a=await(await fetch("/api/galleries/random/name/background")).json();a.success&&a.image?r.value=a.image:console.error("API returned an unexpected structure:",a)}catch(s){console.error("Error fetching images:",s)}finally{n.value=!1,setTimeout(()=>{i.value=!1,e.classList.remove("pixelate-out"),e.classList.add("pixelate-in"),setTimeout(()=>{e.classList.remove("pixelate-in")},500)},500)}},u=()=>{const e=window.scrollY;document.documentElement.style.setProperty("--offsetY",`${-e*.5}px`)};return p(()=>{window.addEventListener("scroll",u),d()}),v(()=>{window.removeEventListener("scroll",u)}),(e,s)=>(_(),f("div",y,[t("div",{class:"image-layer",style:g({backgroundImage:"url("+r.value+")"})},null,4),x,b,L,I,t("button",{class:"teleport-button btn btn-primary shadow-xl",onClick:d}," Teleport ")]))}},k=m(E,[["__scopeId","data-v-e14d331d"]]);export{k as default};
