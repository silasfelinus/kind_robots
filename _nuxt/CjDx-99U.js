import L from"./rqtZmSiP.js";import{aK as S,d as B,r as l,H as V,b6 as j,c as e,e as o,t as p,Y as $,b3 as D,g as v,h as d,k as H,F as g,a5 as k,f as m}from"./CH0slHa8.js";const A=S("componentStore",{state:()=>({folders:[],folderNames:[]}),actions:{async fetchComponentList(n){try{const t=await fetch(`/api/components/${n}`);if(!t.ok)throw new Error("Failed to fetch component list");const{response:c}=await t.json();this.folders.push({folderName:n,components:c})}catch(t){console.error("Failed to fetch component list:",t)}},async fetchFolderNames(){try{const n=await fetch("/api/utils/folderNames");if(!n.ok)throw new Error("Failed to fetch folder names");const{response:t}=await n.json();this.folderNames=t}catch(n){console.error("Failed to fetch folder names:",n)}}}}),G={class:"bg-base-200 p-4"},K={key:0},M={key:0},T={key:1},Y={key:1},q={key:2,class:"grid grid-cols-3 gap-4"},z=["onClick"],I={class:"text-center"},J={class:"mt-2"},O={key:3,class:"grid grid-cols-3 gap-4"},P={class:"col-span-full text-right mb-4"},Q={key:0,class:"absolute top-0 left-0 mt-4 ml-4"},R=["onClick"],U={class:"text-center"},W={key:4,class:"text-red-500 mt-4"},ee=B({__name:"ComponentGallery",setup(n){const t=A(),c=l(!1),C=l(""),i=l(""),f=l([]),h=l(null),x=()=>{i.value=""},y=()=>{u.value=[]};t.fetchFolderNames();const u=l([]),b=async s=>{var _;c.value=!0,C.value=s,await t.fetchComponentList(s),u.value=((_=t.folders.find(a=>a.folderName===s))==null?void 0:_.components)||[],c.value=!1},N=V(()=>t.folderNames),w=s=>{i.value=s},F=s=>{h.value=s.message};return j(s=>(console.error("An error occurred:",s),!1)),(s,_)=>{const a=L;return e(),o("div",G,[!c.value&&i.value?(e(),o("div",K,[h.value?(e(),o("div",M," ðŸš¨ Error loading component: "+p(h.value),1)):(e(),o("div",T,[(e(),$(D(i.value),{"onHook:errorCaptured":F},null,32))]))])):v("",!0),c.value?(e(),o("div",Y,[d(a,{name:"mdi:loading",class:"animate-spin text-4xl"}),H(" Loading... ")])):u.value.length===0?(e(),o("div",q,[(e(!0),o(g,null,k(N.value,r=>(e(),o("div",{key:r,class:"p-4 rounded-lg hover:bg-primary hover:text-default cursor-pointer transition duration-300 ease-in-out",onClick:E=>b(r)},[m("div",I,[d(a,{name:"bi:folder-fill",class:"text-4xl"}),m("p",J,p(r),1)])],8,z))),128))])):(e(),o("div",O,[m("div",P,[d(a,{name:"game-icons:fast-backward-button",class:"text-4xl cursor-pointer",onClick:y})]),i.value?(e(),o("div",Q,[d(a,{name:"game-icons:companion-cube",class:"text-4xl cursor-pointer",onClick:x})])):v("",!0),(e(!0),o(g,null,k(u.value,r=>(e(),o("div",{key:r,class:"p-4 rounded-lg hover:bg-secondary hover:text-default cursor-pointer transition duration-300 ease-in-out",onClick:E=>w(r)},[m("div",U,[d(a,{name:"game-icons:companion-cube",class:"text-4xl mb-2"}),m("p",null,p(r),1)])],8,R))),128))])),f.value.length>0?(e(),o("div",W," ðŸš¨ Error loading these components: "+p(f.value.join(", ")),1)):v("",!0)])}}});export{ee as default};
