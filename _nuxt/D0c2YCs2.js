import k from"./rqtZmSiP.js";import{_ as P}from"./ClOOl0bS.js";import{d as C,aL as I,Z as V,$ as E,r as n,c as u,e as m,f as s,h as N,V as i,W as v,a0 as T,k as M,g as h,n as O,t as R,Y as U,a1 as b,p as A,j as B,l as D}from"./CH0slHa8.js";const f=c=>(A("data-v-ac6ffb5b"),c=c(),B(),c),$={class:"flex flex-col items-center justify-center bg-base-200 rounded-2xl border"},j=f(()=>s("p",{class:"text-lg font-semibold m-4"},"Click to Add a New Pitch",-1)),L={key:0,class:"flex flex-col rounded-xl border p-4 m-2 mb-6 w-full max-w-md bg-white"},W=f(()=>s("h2",{class:"text-2xl font-bold m-4 p-2"},"Create Your Pitch",-1)),Y=f(()=>s("p",{class:"text-sm text-gray-600 m-4p-2"}," Craft your pitch to inspire and challenge other artists. ðŸŽ¨ ",-1)),z={class:"inline-flex items-center mb-2"},F=C({__name:"AddPitch",setup(c){const g=I(),_=V(),d=E(),x=n(!1),a=n(null),l=n(null),p=n(!1),t=n({title:"",pitch:"",flavorText:"",designer:"",userId:_.userId,isMature:!1,isOrphan:!1,isPublic:!0}),w=async()=>{try{const r=await g.createPitch(t.value);r.success?(l.value="success",a.value="Pitch successfully created!",x.value=!0,t.value={title:"",pitch:"",flavorText:"",designer:"",userId:_.userId,isMature:!1,isOrphan:!0,isPublic:!0}):(l.value="error",a.value=r.message||"Something went wrong!",d.setError(b.VALIDATION_ERROR,r.message)),a.value&&setTimeout(()=>{a.value=null,l.value=null},3e3)}catch(r){const e=r instanceof Error?r.message:String(r);d.setError(b.UNKNOWN_ERROR,e),l.value="error",a.value=d.message||"",console.error("Error creating pitch:",e)}};return(r,e)=>{const y=k,S=P;return u(),m("div",$,[s("button",{class:"p-4 rounded-2xl border m-2 bg-primary text-white",onClick:e[0]||(e[0]=o=>p.value=!p.value)},[N(y,{name:"typcn:plus",class:"text-4xl"})]),j,p.value?(u(),m("div",L,[W,Y,i(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.title=o),placeholder:"Title",class:"mb-2 p-2 rounded border"},null,512),[[v,t.value.title]]),i(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.pitch=o),placeholder:"Pitch",class:"mb-2 p-2 rounded border"},null,512),[[v,t.value.pitch]]),i(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.designer=o),placeholder:"Designer",class:"mb-2 p-2 rounded border"},null,512),[[v,t.value.designer]]),s("label",z,[i(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.isMature=o),type:"checkbox",class:"mr-2"},null,512),[[T,t.value.isMature]]),M(" Allow mature content ")]),s("button",{class:"p-2 rounded bg-primary text-white",onClick:w}," Submit Pitch ")])):h("",!0),a.value?(u(),m("div",{key:1,class:O(l.value==="success"?"text-green-500":"text-red-500")},R(a.value),3)):h("",!0),x.value?(u(),U(S,{key:2,id:1})):h("",!0)])}}}),G=D(F,[["__scopeId","data-v-ac6ffb5b"]]);export{G as default};
