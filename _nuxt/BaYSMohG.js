import m from"./D-Auxfbc.js";import{d as p,W as v,X as f,E as c,r as y,V as h,c as n,e as r,f as t,k,t as x,G as E,g as L,F as S,a1 as w}from"./Bh_OSRoe.js";const B={class:"flex items-center"},C={class:"ml-4"},b={key:0},V=t("div",{class:"hidden lg:inline"},"Salutations,",-1),F={key:1},G=p({__name:"LoginButton",setup(N){const a=v(),l=f(),i=c(()=>a.isLoggedIn),u=c(()=>{var e;return((e=a.user)==null?void 0:e.username)||"Kind Guest"}),o=y(!1);h(i,e=>{e&&(o.value=!1)});const d=async()=>{l.clearError();try{await l.handleError(async()=>a.logout(),w.AUTH_ERROR,"Failed to logout. Please try again.")}catch{}};return(e,s)=>{const g=m;return n(),r(S,null,[t("div",B,[t("div",C,[i.value?(n(),r("div",b,[V,k(" "+x(u.value)+"! ",1),t("button",{class:"bg-danger p-2 rounded-lg text-white text-sm",onClick:d}," Logout ")])):(n(),r("div",F,[t("button",{class:"bg-primary p-2 rounded-lg text-white text-lg",onClick:s[0]||(s[0]=_=>o.value=!0)}," Login ")]))])]),o.value?(n(),E(g,{key:0,onClose:s[1]||(s[1]=_=>o.value=!1)})):L("",!0)],64)}}});export{G as _};
