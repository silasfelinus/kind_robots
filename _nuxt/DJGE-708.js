import{d as T,X as C,aS as G,Y as I,r,G as f,c as o,e as s,f as t,t as g,g as i,$ as L,a0 as U,h,H as A,F as B,a6 as V,a2 as x,aN as j}from"./7SNmuExf.js";import{_ as F}from"./B7x64cQ9.js";import K from"./Vxe0K0dt.js";import{u as P}from"./BNsg9hVo.js";const W={class:"bg-base-200 rounded-2xl p-8 text-lg"},$=t("h1",{class:"text-2xl mb-4"},"Dream-Generator",-1),H={class:"mt-4"},J={key:0,class:"mt-2"},X={class:"mt-4"},Y=["disabled"],q={key:0,class:"mt-4 flex flex-col items-center"},z={class:"loader flex justify-center mt-2"},re=T({__name:"DreamGenerator",setup(Q){const y=P(),m=C(),N=G(),_=I(),p=r(!1),n=r(""),b=r(""),k=f(()=>m.username),S=f(()=>m.userId),l=r(!1),u=r([]),c=r(null),v=r(null),w=()=>{v.value=N.randomLoadMessage()},D=()=>{c.value=y.randomDream(),n.value=c.value||""},E=async()=>{w(),l.value=!0;try{const a=await fetch("/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n.value,userName:k.value,galleryName:"cafefred",pitchId:6,title:"dreamscapes",isMature:!1,isPublic:!0,isOrphan:!0,flavorText:b.value,userId:S.value,galleryId:21,channelName:"dreamscapes"})});if(a.ok){const e=await a.json();u.value.unshift(e.newArt),p.value=!0,console.log("Art generated:",u.value)}else{const e=await a.text();_.setError(x.UNKNOWN_ERROR,e),console.error("Failed to generate dream:",e)}}catch(a){const e=a instanceof Error?a.message:"Unknown error";_.setError(x.UNKNOWN_ERROR,e),console.error("Error generating art:",e)}finally{l.value=!1}};return(a,e)=>{const R=j,M=F,O=K;return o(),s("div",W,[$,t("div",H,[t("button",{class:"bg-accent rounded-2xl p-2 text-white",onClick:D}," Get Random Dream "),c.value?(o(),s("p",J,g(c.value),1)):i("",!0)]),t("div",X,[L(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>n.value=d),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[U,n.value]])]),t("button",{disabled:l.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:E}," Generate Dream ",8,Y),l.value?(o(),s("div",q,[t("p",null,g(v.value),1),t("div",z,[h(R)])])):i("",!0),p.value?(o(),A(M,{key:1,id:11})):i("",!0),(o(!0),s(B,null,V(u.value,d=>(o(),s("div",{key:d.id,class:"mt-4"},[h(O,{art:d},null,8,["art"])]))),128))])}}});export{re as _};
