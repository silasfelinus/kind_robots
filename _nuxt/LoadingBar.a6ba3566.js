import{aC as f,a9 as _,b as g,c as x,n as y,N as t,aH as v,j as b}from"./entry.45f7d34b.js";const B={__name:"LoadingBar",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3}},setup(i){const a=i,e=f({percent:0,show:!0,canSucceed:!0});let r=null,n=null,s;const o=()=>{r&&clearInterval(r),n&&clearTimeout(n),r=null},p=()=>{o(),e.percent=0,e.canSucceed=!0,a.throttle?n=setTimeout(c,a.throttle):c()},h=u=>{e.percent=Math.min(100,Math.floor(e.percent+u))},d=()=>{e.percent=100,m()},m=()=>{o(),setTimeout(()=>{e.show=!1,setTimeout(()=>{e.percent=0},400)},500)},c=()=>{e.show=!0,s=1e4/Math.floor(a.duration),r=setInterval(()=>{h(s)},100)},l=b();return l.hook("page:start",p),l.hook("page:finish",d),_(()=>o),(u,k)=>(g(),x("div",{class:y(["nuxt-progress",{"nuxt-progress-failed":!t(e).canSucceed}]),style:v({width:t(e).percent+"%",left:t(e).left,height:a.height+"px",opacity:t(e).show?1:0,backgroundSize:100/t(e).percent*100+"% auto"})},null,6))}};export{B as default};
