import{u as v,_ as x}from"./qHVLCTHr.js";import{u as g}from"./CWQirxUZ.js";import{d as E,r as n,a2 as R,V as f,c as u,e as i,h as b,f as r,t as h,a4 as s}from"./pZiLMi_1.js";const C={key:0,class:"cart-item bg-base-200 rounded-2xl p-4 flex flex-col"},I={class:"cart-item-actions flex items-center mt-2"},k={class:"quantity text-lg mx-2"},S={key:1,class:"bg-warning rounded-2xl p-4 text-lg"},A=E({__name:"CartItem",props:{item:{}},setup(l){const t=n(l.item),a=v(),d=g(),o=R(),c=n(null);f(()=>t.value.productId,e=>{c.value=d.getProductById(e)});const m=async()=>{try{await a.addItem(t.value.productId,t.value.quantity+1)}catch(e){o.setError(s.GENERAL_ERROR,e)}},p=async()=>{try{t.value.quantity>1&&await a.updateCartItem(t.value.id,{quantity:t.value.quantity-1})}catch(e){o.setError(s.GENERAL_ERROR,e)}},y=async()=>{try{await a.deleteCartItem(t.value.id)}catch(e){o.setError(s.GENERAL_ERROR,e)}};return(e,w)=>{const _=x;return c.value&&t.value?(u(),i("div",C,[b(_,{product:c.value},null,8,["product"]),r("div",I,[r("button",{class:"bg-warning text-lg px-2 py-1 rounded",onClick:p}," - "),r("div",k,h(t.value.quantity),1),r("button",{class:"bg-primary text-lg px-2 py-1 rounded",onClick:m}," + "),r("button",{class:"bg-accent text-lg px-2 py-1 rounded ml-4",onClick:y}," Remove ")])])):(u(),i("div",S," Loading or item not available... "))}}});export{A as _};
