import{d as L,X as M,aL as T,aN as A,r as a,G as f,b as s,c as o,e as t,t as g,f as m,Z as I,$ as B,g as h,H as V,F as j,a5 as F,a1 as x,aG as O}from"./entry.e51736e9.js";import{_ as $}from"./milestone-reward.vue.e2bcdaac.js";import H from"./ArtCard.7be003cc.js";import{u as P}from"./dreamStore.61bd6e28.js";const R={class:"bg-base-200 rounded-2xl p-8 text-lg"},U=t("h1",{class:"text-2xl mb-4"},"Dream-Generator",-1),J={class:"mt-4"},X={key:0},Z={class:"mt-4"},q=["disabled"],z={key:0,class:"mt-4 flex flex-col items-center"},K={class:"loader flex justify-center mt-2"},ae=L({__name:"DreamGenerator",setup(Q){const y=P(),p=M(),b=T();A();const _=a(!1),n=a(""),k=a(""),w=f(()=>p.username),S=f(()=>p.userId),l=a(!1),u=a([]),c=a(null),v=a(null),D=()=>{v.value=b.randomLoadMessage()},N=()=>{c.value=y.randomDream(),n.value=c.value},C=async()=>{D(),l.value=!0;try{const r=await fetch("/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n.value,userName:w.value,galleryName:"cafefred",pitchId:6,title:"dreamscapes",isMature:!1,isPublic:!0,isOrphan:!0,flavorText:k.value,userId:S.value,galleryId:21,channelName:"dreamscapes"})});if(r.ok){const e=await r.json();u.value.unshift(e.newArt),_.value=!0,console.log("Art generated:",u)}else{const e=await r.text(),i=x(new Error(e));console.error("Failed to generate dream:",i.message)}}catch(r){const e=x(r);console.error("Error generating art:",e.message)}finally{l.value=!1}};return(r,e)=>{const i=O,E=$,G=H;return s(),o("div",R,[U,t("div",J,[t("button",{class:"bg-accent rounded-2xl p-2 text-white",onClick:N},"Get Random Dream"),c.value?(s(),o("p",X,g(c.value),1)):m("",!0)]),t("div",Z,[I(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>n.value=d),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[B,n.value]])]),t("button",{disabled:l.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:C}," Generate Dream ",8,q),l.value?(s(),o("div",z,[t("p",null,g(v.value),1),t("div",K,[h(i)])])):m("",!0),_.value?(s(),V(E,{key:1,id:11})):m("",!0),(s(!0),o(j,null,F(u.value,d=>(s(),o("div",{key:d.id,class:"mt-4"},[h(G,{art:d},null,8,["art"])]))),128))])}}});export{ae as _};
