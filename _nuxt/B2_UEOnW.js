import{_ as L}from"./Buo2L4si.js";import{d as k,a1 as w,I as s,a2 as O,r as B,o as M,c as l,e as _,f as a,h as t,t as m,g as d,Y as T,n as z,F,av as I,aw as U,b8 as $,l as N}from"./DJsSOPwi.js";import{_ as P}from"./D2f0Vkgn.js";import{u as j,T as u,S as c}from"./9RoNXqT5.js";const H={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K={class:"toggle-section"},Y=k({__name:"RoomDashboard",setup(q){const n=w(),g=s(()=>n.mana),f=s(()=>n.user),i=s(()=>n.isLoggedIn),S=O(),r=j(),e=B(r.getScreenState(u.USER_DASHBOARD)===c.COMPACT);M(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(u.USER_DASHBOARD)===c.COMPACT});const p=s(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),v=s(()=>e.value?"small":"large"),b=s(()=>{var o;return((o=f.value)==null?void 0:o.username)||"Kind Guest"}),h=s(()=>`${g.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(u.USER_DASHBOARD,o)},y=async()=>{if(i.value)try{await S.handleError(async()=>{await n.logout()},"GENERAL_ERROR","Failed to logout. Please try again.")}catch(o){console.error("An unexpected error occurred:",o)}};return(o,Q)=>{const R=L,x=I,A=U,D=P,E=$;return l(),_(F,null,[a("header",{class:z(p.value)},[t(R,{size:v.value,class:"avatar",onClick:C},null,8,["size"]),a("div",H,[a("div",V,[a("span",G,m(b.value),1),e.value?d("",!0):(l(),_("span",J,m(h.value),1)),i.value?(l(),_("button",{key:1,class:"logout-button",onClick:T(y,["stop"])}," Logout ")):d("",!0)]),a("div",K,[t(x),t(A)])])],2),t(D),t(E)],64)}}}),oe=N(Y,[["__scopeId","data-v-0d465ab6"]]);export{oe as default};
