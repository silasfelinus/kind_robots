import{_ as L}from"./ByQl97bK.js";import k from"./G0HNMrH-.js";import{_ as O}from"./DSljbAW9.js";import{_ as w}from"./BchoUrZS.js";import B from"./BHeeFYEI.js";import{d as M,X as T,G as t,Y as z,r as F,o as U,c as l,e as _,f as s,h as a,t as u,g as d,Z as $,n as I,F as N,l as P}from"./7SNmuExf.js";import{u as j,T as i,S as c}from"./DNCDzMlf.js";import"./CzI6pVEy.js";import"./DpbyNsMG.js";import"./CMu-GeLk.js";import"./DfUZz_zp.js";const G={class:"flex flex-col w-full"},H={class:"info-section"},V={class:"username"},J={key:0,class:"jellybeans"},K={class:"toggle-section"},X=M({__name:"RoomDashboard",setup(Y){const n=T(),g=t(()=>n.mana),p=t(()=>n.user),m=t(()=>n.isLoggedIn),f=z(),r=j(),e=F(r.getScreenState(i.USER_DASHBOARD)===c.COMPACT);U(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(i.USER_DASHBOARD)===c.COMPACT});const S=t(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),v=t(()=>e.value?"small":"large"),b=t(()=>{var o;return((o=p.value)==null?void 0:o.username)||"Kind Guest"}),h=t(()=>`${g.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(i.USER_DASHBOARD,o)},y=async()=>{if(m.value)try{await f.handleError(async()=>{await n.logout()},"GENERAL_ERROR","Failed to logout. Please try again.")}catch(o){console.error("An unexpected error occurred:",o)}};return(o,Z)=>{const R=L,x=k,A=O,D=w,E=B;return l(),_(N,null,[s("header",{class:I(S.value)},[a(R,{size:v.value,class:"avatar",onClick:C},null,8,["size"]),s("div",G,[s("div",H,[s("span",V,u(b.value),1),e.value?d("",!0):(l(),_("span",J,u(h.value),1)),m.value?(l(),_("button",{key:1,class:"logout-button",onClick:$(y,["stop"])}," Logout ")):d("",!0)]),s("div",K,[a(x),a(A)])])],2),a(D),a(E)],64)}}}),le=P(X,[["__scopeId","data-v-bb2ffed4"]]);export{le as default};
