import{r as m,o as f,c as r,e as i,t as l,g,f as s,F as _,a9 as v,aO as x}from"./NJWOSLyt.js";const k={class:"min-h-screen bg-gray-200 p-5"},I={key:0,class:"text-red-500 text-center my-10"},w={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},F={class:"flip-container"},b={class:"flipper-front"},C=["src","onClick"],E={class:"flipper-back"},G=["src","onClick"],T={class:"text-xl font-semibold mt-3"},$={class:"text-sm text-gray-600 mt-1"},M={__name:"Galleries-View",setup(j){const o=m(null),n=m(null);f(async()=>{try{const e=await fetch("/api/galleries",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error("Failed to fetch data.");const a=await e.json();a.success?(o.value=a.Galleries,o.value.forEach(t=>{t.currentImage=c(t),t.isFlipped=!1})):n.value="Failed to fetch data."}catch(e){n.value=e.message}});const c=e=>{if(!e.imagePaths)return"";const a=e.imagePaths.split(",").map(t=>`/images/${e.name}/${t.trim()}`);return a[Math.floor(Math.random()*a.length)]},p=()=>{o.value.forEach(e=>{e.nextImage=c(e),e.isFlipped=!e.isFlipped;const a=e.isFlipped?300:150;setTimeout(()=>{e.currentImage=e.nextImage},a)})},d=e=>{e.currentImage=c(e)},u=e=>e.isFlipped?"rotateY(180deg)":"rotateY(0deg)";return(e,a)=>(r(),i("div",k,[n.value?(r(),i("div",I," An error occurred: "+l(n.value),1)):g("",!0),s("div",{class:"text-center my-5"},[s("button",{class:"refresh-btn px-8 py-2 rounded transition-colors duration-300 hover:bg-red-500",onClick:p}," Refresh Images ")]),s("div",w,[(r(!0),i(_,null,v(o.value,t=>(r(),i("div",{key:t.id,class:"gallery-card shadow-lg rounded bg-white p-4"},[s("div",F,[s("div",{class:"flip-content",style:x({transform:u(t)})},[s("div",b,[s("img",{src:t.currentImage,alt:"Image from {{ gallery.name }}",class:"gallery-img w-full",onClick:h=>d(t)},null,8,C)]),s("div",E,[s("img",{src:t.nextImage,alt:"Next image from {{ gallery.name }}",class:"gallery-img w-full",onClick:h=>d(t)},null,8,G)])],4)]),s("h2",T,l(t.name),1),s("p",$,l(t.description),1)]))),128))])]))}};export{M as default};
