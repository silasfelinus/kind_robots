import{l as m,r as o,o as p,b as v,c as f,e as _,f as s,aL as g,p as h,j as w}from"./CpGAEQl5.js";const l=a=>(h("data-v-96edf7f5"),a=a(),w(),a),y={class:"teleport-container"},x=l(()=>s("div",{class:"cover top"},null,-1)),L=l(()=>s("div",{class:"cover bottom"},null,-1)),b=l(()=>s("div",{class:"cover left"},null,-1)),I=l(()=>s("div",{class:"cover right"},null,-1)),E={__name:"Magic-Window",setup(a){const n=o(""),r=o(!0);o(0);const i=o(!1);o(0);const d=async()=>{i.value=!0,r.value=!0;const t=document.querySelector(".image-layer");t.classList.add("pixelate-out"),await new Promise(e=>setTimeout(e,750));try{const c=await(await fetch("/api/galleries/random/name/background")).json();c.success&&c.image?n.value=c.image:console.error("API returned an unexpected structure:",c)}catch(e){console.error("Error fetching images:",e)}finally{r.value=!1,setTimeout(()=>{i.value=!1,t.classList.remove("pixelate-out"),t.classList.add("pixelate-in"),setTimeout(()=>{t.classList.remove("pixelate-in")},500)},500)}},u=t=>{const e=window.scrollY;document.documentElement.style.setProperty("--offsetY",`${-e*.5}px`)};return p(()=>{window.addEventListener("scroll",u),d()}),v(()=>{window.removeEventListener("scroll",u)}),(t,e)=>(f(),_("div",y,[s("div",{class:"image-layer",style:g({backgroundImage:"url("+n.value+")"})},null,4),x,L,b,I,s("button",{class:"teleport-button btn btn-primary shadow-xl",onClick:d}," Teleport ")]))}},k=m(E,[["__scopeId","data-v-96edf7f5"]]);export{k as default};
