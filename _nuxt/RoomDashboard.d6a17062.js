import{_ as L}from"./UserAvatar.vue.475e0688.js";import B from"./theme-toggle.0bd3aa23.js";import{_ as M}from"./ButterflyToggle.vue.5e556ce0.js";import{_ as O}from"./RoomMeta.vue.60e14de6.js";import T from"./SmartLinks.d667e203.js";import{d as w,W as z,E as s,r as E,o as F,b as l,c as _,e as t,g as a,t as d,f as g,X as U,n as $,F as H,a0 as I,k as P}from"./entry.9d1d6f43.js";import{u as j,T as m,S as c}from"./toggleStore.42d9f307.js";import"./Icon.8fb0f34d.js";import"./screenStore.588c515c.js";import"./RoomTitle.vue.cee230f2.js";import"./nuxt-link.1dfe2cb3.js";const N={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K=["onClick"],W={class:"toggle-section"},X=w({__name:"RoomDashboard",setup(q){const n=z(),p=s(()=>n.mana),f=s(()=>n.user),i=s(()=>n.isLoggedIn),r=j(),e=E(r.getScreenState(m.USER_DASHBOARD)===c.COMPACT);F(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(m.USER_DASHBOARD)===c.COMPACT});const v=s(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),S=s(()=>e.value?"small":"large"),b=s(()=>{var o;return((o=f.value)==null?void 0:o.username)||"Kind Guest"}),h=s(()=>`${p.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(m.USER_DASHBOARD,o)},y=async()=>{if(i.value)try{await n.logout()}catch(o){const u=I({error:o,message:"Failed to logout. Please try again."});console.error(u.message)}};return(o,u)=>{const x=L,D=B,R=M,k=O,A=T;return l(),_(H,null,[t("header",{class:$(v.value)},[a(x,{size:S.value,class:"avatar",onClick:C},null,8,["size"]),t("div",N,[t("div",V,[t("span",G,d(b.value),1),e.value?g("",!0):(l(),_("span",J,d(h.value),1)),i.value?(l(),_("button",{key:1,class:"logout-button",onClick:U(y,["stop"])},"Logout",8,K)):g("",!0)]),t("div",W,[a(D),a(R)])])],2),a(k),a(A)],64)}}});const le=P(X,[["__scopeId","data-v-f0dd31ba"]]);export{le as default};
