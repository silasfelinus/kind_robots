import{_ as L}from"./7rIZxDx7.js";import k from"./BJCzWkIJ.js";import{_ as O}from"./CB1tc48L.js";import{_ as w}from"./pETwFCub.js";import B from"./DV57KGMU.js";import{d as M,a0 as T,I as t,a1 as z,r as F,o as I,c as l,e as _,f as s,h as a,t as u,g as d,Y as U,n as $,F as N,l as P}from"./BwHe1LQq.js";import{u as j,T as i,S as c}from"./C2Kf1ARw.js";import"./DFMobfPT.js";import"./CTuHQNb5.js";import"./tbiscU-J.js";import"./BYN-ZiBF.js";const H={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K={class:"toggle-section"},Y=M({__name:"RoomDashboard",setup(q){const n=T(),g=t(()=>n.mana),p=t(()=>n.user),m=t(()=>n.isLoggedIn),f=z(),r=j(),e=F(r.getScreenState(i.USER_DASHBOARD)===c.COMPACT);I(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(i.USER_DASHBOARD)===c.COMPACT});const S=t(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),v=t(()=>e.value?"small":"large"),h=t(()=>{var o;return((o=p.value)==null?void 0:o.username)||"Kind Guest"}),b=t(()=>`${g.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(i.USER_DASHBOARD,o)},y=async()=>{if(m.value)try{await f.handleError(async()=>{await n.logout()},"GENERAL_ERROR","Failed to logout. Please try again.")}catch(o){console.error("An unexpected error occurred:",o)}};return(o,Q)=>{const R=L,x=k,A=O,D=w,E=B;return l(),_(N,null,[s("header",{class:$(S.value)},[a(R,{size:v.value,class:"avatar",onClick:C},null,8,["size"]),s("div",H,[s("div",V,[s("span",G,u(h.value),1),e.value?d("",!0):(l(),_("span",J,u(b.value),1)),m.value?(l(),_("button",{key:1,class:"logout-button",onClick:U(y,["stop"])}," Logout ")):d("",!0)]),s("div",K,[a(x),a(A)])])],2),a(D),a(E)],64)}}}),le=P(Y,[["__scopeId","data-v-0d465ab6"]]);export{le as default};
