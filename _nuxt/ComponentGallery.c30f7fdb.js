import L from"./Icon.98c1e922.js";import{aH as S,d as j,r as l,G as B,a_ as G,b as e,c as o,t as p,H as V,aC as H,f as h,g as d,j as $,F as g,a5 as y,e as m}from"./entry.540372c9.js";const D=S("componentStore",{state:()=>({folders:[],folderNames:[]}),actions:{async fetchComponentList(s){try{const t=await fetch(`/api/components/${s}`);if(!t.ok)throw new Error("Failed to fetch component list");const{response:c}=await t.json();this.folders.push({folderName:s,components:c})}catch(t){console.error("Failed to fetch component list:",t)}},async fetchFolderNames(){try{const s=await fetch("/api/utils/folderNames");if(!s.ok)throw new Error("Failed to fetch folder names");const{response:t}=await s.json();this.folderNames=t}catch(s){console.error("Failed to fetch folder names:",s)}}}}),A={class:"bg-base-200 p-4"},M={key:0},T={key:0},q={key:1},z={key:1},I={key:2,class:"grid grid-cols-3 gap-4"},J=["onClick"],K={class:"text-center"},O={class:"mt-2"},P={key:3,class:"grid grid-cols-3 gap-4"},Q={class:"col-span-full text-right mb-4"},R={key:0,class:"absolute top-0 left-0 mt-4 ml-4"},U=["onClick"],W={class:"text-center"},X={key:4,class:"text-red-500 mt-4"},ee=j({__name:"ComponentGallery",setup(s){const t=D(),c=l(!1),C=l(""),i=l(""),f=l([]),_=l(null),k=()=>{i.value=""},x=()=>{u.value=[]};t.fetchFolderNames();const u=l([]),b=async n=>{var v;c.value=!0,C.value=n,await t.fetchComponentList(n),u.value=((v=t.folders.find(a=>a.folderName===n))==null?void 0:v.components)||[],c.value=!1},N=B(()=>t.folderNames),w=n=>{i.value=n},F=n=>{_.value=n.message};return G(n=>(console.error("An error occurred:",n),!1)),(n,v)=>{const a=L;return e(),o("div",A,[!c.value&&i.value?(e(),o("div",M,[_.value?(e(),o("div",T,"ðŸš¨ Error loading component: "+p(_.value),1)):(e(),o("div",q,[(e(),V(H(i.value),{"onHook:errorCaptured":F},null,32))]))])):h("",!0),c.value?(e(),o("div",z,[d(a,{name:"mdi:loading",class:"animate-spin text-4xl"}),$(" Loading... ")])):u.value.length===0?(e(),o("div",I,[(e(!0),o(g,null,y(N.value,r=>(e(),o("div",{key:r,class:"p-4 rounded-lg hover:bg-primary hover:text-default cursor-pointer transition duration-300 ease-in-out",onClick:E=>b(r)},[m("div",K,[d(a,{name:"bi:folder-fill",class:"text-4xl"}),m("p",O,p(r),1)])],8,J))),128))])):(e(),o("div",P,[m("div",Q,[d(a,{name:"game-icons:fast-backward-button",class:"text-4xl cursor-pointer",onClick:x})]),i.value?(e(),o("div",R,[d(a,{name:"game-icons:companion-cube",class:"text-4xl cursor-pointer",onClick:k})])):h("",!0),(e(!0),o(g,null,y(u.value,r=>(e(),o("div",{key:r,class:"p-4 rounded-lg hover:bg-secondary hover:text-default cursor-pointer transition duration-300 ease-in-out",onClick:E=>w(r)},[m("div",W,[d(a,{name:"game-icons:companion-cube",class:"text-4xl mb-2"}),m("p",null,p(r),1)])],8,U))),128))])),f.value.length>0?(e(),o("div",X," ðŸš¨ Error loading these components: "+p(f.value.join(", ")),1)):h("",!0)])}}});export{ee as default};
