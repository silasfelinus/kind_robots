import{u as y,_ as g}from"./ProductCard.vue.d2a8bca3.js";import{u as v}from"./productStore.939dd4ad.js";import{d as x,r,W as f,b as n,c as u,g as C,e as a,t as b,a1 as c,k as I}from"./entry.0e1ae4de.js";const h={key:0,class:"cart-item bg-base-200 rounded-2xl p-4 flex flex-col"},k={class:"cart-item-actions flex items-center mt-2"},q={class:"quantity text-lg mx-2"},w={key:1,class:"bg-warning rounded-2xl p-4 text-lg"},S=x({__name:"CartItem",props:{item:{}},setup(d){const t=r(d.item),s=y(),l=v(),o=r(null);f(()=>t.value.productId,e=>{o.value=l.getProductById(e)});const i=async()=>{try{await s.addItem(t.value.productId,t.value.quantity+1)}catch(e){c({success:!1,message:e.message,statusCode:500})}},m=async()=>{try{t.value.quantity>1&&await s.updateCartItem(t.value.id,{quantity:t.value.quantity-1})}catch(e){c({success:!1,message:e.message,statusCode:500})}},p=async()=>{try{await s.deleteCartItem(t.value.id)}catch(e){c({success:!1,message:e.message,statusCode:500})}};return(e,P)=>{const _=g;return o.value&&t.value?(n(),u("div",h,[C(_,{product:o.value},null,8,["product"]),a("div",k,[a("button",{class:"bg-warning text-lg px-2 py-1 rounded",onClick:m},"-"),a("div",q,b(t.value.quantity),1),a("button",{class:"bg-primary text-lg px-2 py-1 rounded",onClick:i},"+"),a("button",{class:"bg-accent text-lg px-2 py-1 rounded ml-4",onClick:p},"Remove")])])):(n(),u("div",w,"Loading or item not available..."))}}});const D=I(S,[["__scopeId","data-v-3ab42c4f"]]);export{D as default};
