import{_ as w}from"./Buo2L4si.js";import{d as A,a1 as D,a2 as E,I as m,r as R,o as T,c as s,e as a,h as o,f as n,t as _,Y as v,g as h,n as B,a4 as L,av as O,aw as M}from"./DJsSOPwi.js";import{u as U,T as u,S as r}from"./9RoNXqT5.js";const z={key:0,class:"flex flex-col w-full"},H={class:"flex items-center space-x-4"},N={class:"text-lg md:text-xl"},P={class:"hidden md:inline-block"},F={class:"flex items-center space-x-4"},I={key:1,class:"flex items-center space-x-4"},V={class:"text-lg md:text-xl"},Y=A({__name:"NewDashboard",setup($){const l=D(),y=E(),C=m(()=>l.mana),d=m(()=>l.user),i=m(()=>l.isLoggedIn),c=U(),e=R(c.getScreenState(u.USER_DASHBOARD)===r.COMPACT);T(()=>{c.loadFromLocalStorage(),e.value=c.getScreenState(u.USER_DASHBOARD)===r.COMPACT});const b=()=>{e.value=!e.value;const t=e.value?r.COMPACT:r.FULL;c.setScreenState(u.USER_DASHBOARD,t)},g=async()=>{if(i.value)try{await l.logout()}catch(t){y.setError(L.AUTH_ERROR,t instanceof Error?t.message:"Failed to logout. Please try again.")}};return(t,G)=>{var f,p;const k=w,x=O,S=M;return s(),a("header",{class:B(e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1")},[o(k,{size:e.value?"small":"large",class:"md:max-w-xs lg:max-w-sm xl:max-w-md",onClick:b},null,8,["size"]),e.value?(s(),a("div",I,[n("span",V,_(((p=d.value)==null?void 0:p.username)||"Kind Guest"),1),i.value?(s(),a("button",{key:0,class:"text-sm md:text-md text-gray-500",onClick:v(g,["stop"])}," Logout ")):h("",!0),o(x),o(S)])):(s(),a("div",z,[n("div",H,[n("span",N,_(((f=d.value)==null?void 0:f.username)||"Kind Guest"),1),n("span",P,_(C.value)+"/ 9 Jellybeans Discovered",1),i.value?(s(),a("button",{key:0,class:"text-sm md:text-md text-gray-500",onClick:v(g,["stop"])}," Logout ")):h("",!0)]),n("div",F,[o(x),o(S)])]))],2)}}});export{Y as _};
