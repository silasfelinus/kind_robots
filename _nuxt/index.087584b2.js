var Ct=Object.defineProperty;var kt=(e,t,n)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var c=(e,t,n)=>(kt(e,typeof t!="symbol"?t+"":t,n),n);const S={init:Ft,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function k(){}const T=S;function Ft(e){const t=e;S.document=t.document,S.DocumentFragment=t.DocumentFragment||k,S.SVGElement=t.SVGElement||k,S.SVGSVGElement=t.SVGSVGElement||k,S.SVGElementInstance=t.SVGElementInstance||k,S.Element=t.Element||k,S.HTMLElement=t.HTMLElement||S.Element,S.Event=t.Event,S.Touch=t.Touch||k,S.PointerEvent=t.PointerEvent||t.MSPointerEvent}const vt=e=>!!(e&&e.Window)&&e instanceof e.Window;let yt,Y;function bt(e){yt=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),Y=e}typeof window<"u"&&window&&bt(window);function A(e){return vt(e)?e:(e.ownerDocument||e).defaultView||Y.window}const At=e=>e===Y||vt(e),Lt=e=>z(e)&&e.nodeType===11,z=e=>!!e&&typeof e=="object",xt=e=>typeof e=="function",jt=e=>typeof e=="number",Ut=e=>typeof e=="boolean",Gt=e=>typeof e=="string",Kt=e=>{if(!e||typeof e!="object")return!1;const t=A(e)||Y;return/object|function/.test(typeof Element)?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},Bt=e=>z(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),zt=e=>z(e)&&typeof e.length<"u"&&xt(e.splice),a={window:At,docFrag:Lt,object:z,func:xt,number:jt,bool:Ut,string:Gt,element:Kt,plainObject:Bt,array:zt},I={init:Nt,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function Nt(e){const t=T.Element,n=e.navigator||{};I.supportsTouch="ontouchstart"in e||a.func(e.DocumentTouch)&&T.document instanceof e.DocumentTouch,I.supportsPointerEvent=n.pointerEnabled!==!1&&!!T.PointerEvent,I.isIOS=/iP(hone|od|ad)/.test(n.platform),I.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),I.isIe9=/MSIE 9/.test(n.userAgent),I.isOperaMobile=n.appName==="Opera"&&I.supportsTouch&&/Presto/.test(n.userAgent),I.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",I.pEventTypes=I.supportsPointerEvent?T.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,I.wheelEvent=T.document&&"onmousewheel"in T.document?"mousewheel":"wheel"}const M=I,Wt=(e,t)=>e.indexOf(t)!==-1,Et=(e,t)=>{for(const n of t)e.push(n);return e},_t=e=>Et([],e),N=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},J=(e,t)=>e[N(e,t)];function G(e){const t={};for(const n in e){const i=e[n];a.plainObject(i)?t[n]=G(i):a.array(i)?t[n]=_t(i):t[n]=i}return t}function E(e,t){for(const i in t)e[i]=t[i];return e}let at=0,D,$;function qt(e){if(D=e.requestAnimationFrame,$=e.cancelAnimationFrame,!D){const t=["ms","moz","webkit","o"];for(const n of t)D=e[`${n}RequestAnimationFrame`],$=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}D=D&&D.bind(e),$=$&&$.bind(e),D||(D=t=>{const n=Date.now(),i=Math.max(0,16-(n-at)),o=e.setTimeout(()=>{t(n+i)},i);return at=n+i,o},$=t=>clearTimeout(t))}const Vt={request:e=>D(e),cancel:e=>$(e),init:qt};function F(e,t,n){if(n=n||{},a.string(e)&&e.search(" ")!==-1&&(e=lt(e)),a.array(e))return e.reduce((i,o)=>E(i,F(o,t,n)),n);if(a.object(e)&&(t=e,e=""),a.func(t))n[e]=n[e]||[],n[e].push(t);else if(a.array(t))for(const i of t)F(e,i,n);else if(a.object(t))for(const i in t){const o=lt(i).map(s=>`${e}${s}`);F(o,t[i],n)}return n}function lt(e){return e.trim().split(/ +/)}function ut(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class wt{constructor(t){c(this,"options");c(this,"types",{});c(this,"propagationStopped",!1);c(this,"immediatePropagationStopped",!1);c(this,"global");this.options=E({},t||{})}fire(t){let n;const i=this.global;(n=this.types[t.type])&&ut(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&ut(t,n)}on(t,n){const i=F(t,n);for(t in i)this.types[t]=Et(this.types[t]||[],i[t])}off(t,n){const i=F(t,n);for(t in i){const o=this.types[t];if(!(!o||!o.length))for(const s of i[t]){const r=o.indexOf(s);r!==-1&&o.splice(r,1)}}}getRect(t){return null}}function R(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Pt(e,t){for(;a.element(e);){if(X(e,t))return e;e=U(e)}return null}function U(e){let t=e.parentNode;if(a.docFrag(t)){for(;(t=t.host)&&a.docFrag(t););return t}return t}function X(e,t){return Y!==yt&&(t=t.replace(/\/deep\//g," ")),e[M.prefixedMatchesSelector](t)}function ht(e,t,n){for(;a.element(e);){if(X(e,t))return!0;if(e=U(e),e===n)return X(e,t)}return!1}function pt(e){return e.correspondingUseElement||e}function Ht(e){return e=e||Y,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Tt(e){const t=e instanceof T.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function ot(e){const t=Tt(e);if(!M.isIOS7&&t){const n=Ht(A(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function ft(e){return a.string(e)?(T.document.querySelector(e),!0):!1}function Zt(e,t,n){return e==="parent"?U(n):e==="self"?t.getRect(n):Pt(n,e)}function Jt(e,t,n,i){let o=e;return a.string(o)?o=Zt(o,t,n):a.func(o)&&(o=o(...i)),a.element(o)&&(o=ot(o)),o}function Qt(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function te(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function ee(e,t,n){const i=n&&e.options[n],s=i&&i.origin||e.options.origin,r=Jt(s,e,t,[e&&t]);return Qt(r)||{x:0,y:0}}const st=(e,t)=>Math.sqrt(e*e+t*t);class St{constructor(t){c(this,"immediatePropagationStopped",!1);c(this,"propagationStopped",!1);this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(St.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const It={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class rt extends St{constructor(n,i,o,s,r,l,u){super(n);c(this,"relatedTarget",null);c(this,"screenX");c(this,"screenY");c(this,"button");c(this,"buttons");c(this,"ctrlKey");c(this,"shiftKey");c(this,"altKey");c(this,"metaKey");c(this,"page");c(this,"client");c(this,"delta");c(this,"rect");c(this,"x0");c(this,"y0");c(this,"t0");c(this,"dt");c(this,"duration");c(this,"clientX0");c(this,"clientY0");c(this,"velocity");c(this,"speed");c(this,"swipe");c(this,"axes");c(this,"preEnd");r=r||n.element;const m=n.interactable,b=(m&&m.options||It).deltaSource,v=ee(m,r,o),p=s==="start",h=s==="end",f=p?this:n.prevEvent,_=p?n.coords.start:h?{page:f.page,client:f.client,timeStamp:n.coords.cur.timeStamp}:n.coords.cur;this.page=E({},_.page),this.client=E({},_.client),this.rect=E({},n.rect),this.timeStamp=_.timeStamp,h||(this.page.x-=v.x,this.page.y-=v.y,this.client.x-=v.x,this.client.y-=v.y),this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.button=i.button,this.buttons=i.buttons,this.target=r,this.currentTarget=r,this.preEnd=l,this.type=u||o+(s||""),this.interactable=m,this.t0=p?n.pointers[n.pointers.length-1].downTime:f.t0,this.x0=n.coords.start.page.x-v.x,this.y0=n.coords.start.page.y-v.y,this.clientX0=n.coords.start.client.x-v.x,this.clientY0=n.coords.start.client.y-v.y,p||h?this.delta={x:0,y:0}:this.delta={x:this[b].x-f[b].x,y:this[b].y-f[b].y},this.dt=n.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=E({},n.coords.velocity[b]),this.speed=st(this.velocity.x,this.velocity.y),this.swipe=h||s==="inertiastart"?this.getSwipe():null}getSwipe(){const n=this._interaction;if(n.prevEvent.speed<600||this.timeStamp-n.prevEvent.timeStamp>150)return null;let i=180*Math.atan2(n.prevEvent.velocityY,n.prevEvent.velocityX)/Math.PI;const o=22.5;i<0&&(i+=360);const s=135-o<=i&&i<225+o,r=225-o<=i&&i<315+o,l=!s&&(315-o<=i||i<45+o),u=!r&&45-o<=i&&i<135+o;return{up:r,down:u,left:s,right:l,angle:i,speed:n.prevEvent.speed,velocity:{x:n.prevEvent.velocityX,y:n.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(rt.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});function Q(e,t){let n=!1;return function(){return n||(Y.console.warn(t),n=!0),e.apply(this,arguments)}}function ne(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}const ie=["webkit","moz"];function Mt(e,t){e.__set||(e.__set={});for(const n in t)ie.some(i=>n.indexOf(i)===0)||typeof e[n]!="function"&&n!=="__set"&&Object.defineProperty(e,n,{get(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set(i){e.__set[n]=i},configurable:!0});return e}function H(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function oe(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function se(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function re(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function Dt(e){return e instanceof T.Event||e instanceof T.Touch}function K(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function ce(e,t){return t=t||{x:0,y:0},M.isOperaMobile&&Dt(e)?(K("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):K("page",e,t),t}function ae(e,t){return t=t||{},M.isOperaMobile&&Dt(e)?K("screen",e,t):K("client",e,t),t}function B(e){return a.number(e.pointerId)?e.pointerId:e.identifier}function le(e,t,n){const i=t.length>1?Ot(t):t[0];ce(i,e.page),ae(i,e.client),e.timeStamp=n}function ct(e){const t=[];return a.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Ot(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const i in t)t[i]+=n[i];for(const n in t)t[n]/=e.length;return t}function ue(e){if(!e.length)return null;const t=ct(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:s,width:o-n,height:s-i}}function he(e,t){const n=t+"X",i=t+"Y",o=ct(e),s=o[0][n]-o[1][n],r=o[0][i]-o[1][i];return st(s,r)}function pe(e,t){const n=t+"X",i=t+"Y",o=ct(e),s=o[1][n]-o[0][n],r=o[1][i]-o[0][i];return 180*Math.atan2(r,s)/Math.PI}function fe(e){return a.string(e.pointerType)?e.pointerType:a.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof T.Touch?"touch":"mouse"}function $t(e){const t=a.func(e.composedPath)?e.composedPath():e.path;return[pt(t?t[0]:e.target),pt(e.currentTarget)]}function L(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function tt(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function de(e){const t=(n,i)=>{let o=e.interactables.get(n,i);return o||(o=e.interactables.new(n,i),o.events.global=t.globalEvents),o};return t.getPointerAverage=Ot,t.getTouchBBox=ue,t.getTouchDistance=he,t.getTouchAngle=pe,t.getElementRect=ot,t.getElementClientRect=Tt,t.matchesSelector=X,t.closest=Pt,t.globalEvents={},t.version="1.10.20",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=Q(function(i,o,s){if(a.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),a.array(i)){for(const r of i)this.on(r,o,s);return this}if(a.object(i)){for(const r in i)this.on(r,i[r],o);return this}return tt(i,this.scope.actions)?this.globalEvents[i]?this.globalEvents[i].push(o):this.globalEvents[i]=[o]:this.scope.events.add(this.scope.document,i,o,{options:s}),this},"The interact.on() method is being deprecated"),t.off=Q(function(i,o,s){if(a.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),a.array(i)){for(const r of i)this.off(r,o,s);return this}if(a.object(i)){for(const r in i)this.off(r,i[r],o);return this}if(tt(i,this.scope.actions)){let r;i in this.globalEvents&&(r=this.globalEvents[i].indexOf(o))!==-1&&this.globalEvents[i].splice(r,1)}else this.scope.events.remove(this.scope.document,i,o,s);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return M.supportsTouch},t.supportsPointerEvent=function(){return M.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return a.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class me{constructor(t,n,i,o){c(this,"options");c(this,"_actions");c(this,"target");c(this,"events",new wt);c(this,"_context");c(this,"_win");c(this,"_doc");c(this,"_scopeEvents");this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=A(ft(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}get _defaults(){return{base:{},perAction:{},actions:{}}}setOnEvents(t,n){return a.func(n.onstart)&&this.on(`${t}start`,n.onstart),a.func(n.onmove)&&this.on(`${t}move`,n.onmove),a.func(n.onend)&&this.on(`${t}end`,n.onend),a.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,i){(a.array(n)||a.object(n))&&this.off(t,n),(a.array(i)||a.object(i))&&this.on(t,i)}setPerAction(t,n){const i=this._defaults;for(const o in n){const s=o,r=this.options[t],l=n[s];s==="listeners"&&this.updatePerActionListeners(t,r.listeners,l),a.array(l)?r[s]=_t(l):a.plainObject(l)?(r[s]=E(r[s]||{},G(l)),a.object(i.perAction[s])&&"enabled"in i.perAction[s]&&(r[s].enabled=l.enabled!==!1)):a.bool(l)&&a.object(i.perAction[s])?r[s].enabled=l:r[s]=l}}getRect(t){return t=t||(a.element(this.target)?this.target:null),a.string(this.target)&&(t=t||this._context.querySelector(this.target)),ot(t)}rectChecker(t){return a.func(t)?(this.getRect=n=>{const i=E({},t.apply(this,n));return"width"in i||(i.width=i.right-i.left,i.height=i.bottom-i.top),i},this):t===null?(delete this.getRect,this):this.getRect}_backCompatOption(t,n){if(ft(n)||a.object(n)){this.options[t]=n;for(const i in this._actions.map)this.options[i][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}context(){return this._context}inContext(t){return this._context===t.ownerDocument||R(this._context,t)}testIgnoreAllow(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}testAllow(t,n,i){return t?a.element(i)?a.string(t)?ht(i,t,n):a.element(t)?R(t,i):!1:!1:!0}testIgnore(t,n,i){return!t||!a.element(i)?!1:a.string(t)?ht(i,t,n):a.element(t)?R(t,i):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,i,o){a.object(n)&&!a.array(n)&&(o=i,i=null);const s=t==="on"?"add":"remove",r=F(n,i);for(let l in r){l==="wheel"&&(l=M.wheelEvent);for(const u of r[l])tt(l,this._actions)?this.events[t](l,u):a.string(this.target)?this._scopeEvents[`${s}Delegate`](this.target,this._context,l,u,o):this._scopeEvents[s](this.target,l,u,o)}return this}on(t,n,i){return this._onOff("on",t,n,i)}off(t,n,i){return this._onOff("off",t,n,i)}set(t){const n=this._defaults;a.object(t)||(t={}),this.options=G(n.base);for(const i in this._actions.methodDict){const o=i,s=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,E(E({},n.perAction),n.actions[o])),this[s](t[o])}for(const i in t)a.func(this[i])&&this[i](t[i]);return this}unset(){if(a.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let i=n.length-1;i>=0;i--){const{selector:o,context:s,listeners:r}=n[i];o===this.target&&s===this._context&&n.splice(i,1);for(let l=r.length-1;l>=0;l--)this._scopeEvents.removeDelegate(this.target,this._context,t,r[l][0],r[l][1])}}else this._scopeEvents.remove(this.target,"all")}}class ge{constructor(t){c(this,"list",[]);c(this,"selectorMap",{});c(this,"scope");this.scope=t,t.addListeners({"interactable:unset":({interactable:n})=>{const{target:i,_context:o}=n,s=a.string(i)?this.selectorMap[i]:i[this.scope.id],r=N(s,l=>l.context===o);s[r]&&(s[r].context=null,s[r].interactable=null),s.splice(r,1)}})}new(t,n){n=E(n||{},{actions:this.scope.actions});const i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events),o={context:i._context,interactable:i};return this.scope.addDocument(i._doc),this.list.push(i),a.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(o)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(o)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}get(t,n){const i=n&&n.context||this.scope.document,o=a.string(t),s=o?this.selectorMap[t]:t[this.scope.id];if(!s)return null;const r=J(s,l=>l.context===i&&(o||l.interactable.inContext(t)));return r&&r.interactable}forEachMatch(t,n){for(const i of this.list){let o;if((a.string(i.target)?a.element(t)&&X(t,i.target):t===i.target)&&i.inContext(t)&&(o=n(i)),o!==void 0)return o}}}function ve(e){var t;const n=[],i={},o=[],s={add:r,remove:l,addDelegate:u,removeDelegate:m,delegateListener:b,delegateUseCapture:v,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s;function r(p,h,f,_){const P=j(_);let y=J(n,d=>d.eventTarget===p);y||(y={eventTarget:p,events:{}},n.push(y)),y.events[h]||(y.events[h]=[]),p.addEventListener&&!Wt(y.events[h],f)&&(p.addEventListener(h,f,s.supportsOptions?P:P.capture),y.events[h].push(f))}function l(p,h,f,_){const P=j(_),y=N(n,x=>x.eventTarget===p),d=n[y];if(!d||!d.events)return;if(h==="all"){for(h in d.events)d.events.hasOwnProperty(h)&&l(p,h,"all");return}let w=!1;const g=d.events[h];if(g){if(f==="all"){for(let x=g.length-1;x>=0;x--)l(p,h,g[x],P);return}else for(let x=0;x<g.length;x++)if(g[x]===f){p.removeEventListener(h,f,s.supportsOptions?P:P.capture),g.splice(x,1),g.length===0&&(delete d.events[h],w=!0);break}}w&&!Object.keys(d.events).length&&n.splice(y,1)}function u(p,h,f,_,P){const y=j(P);if(!i[f]){i[f]=[];for(const g of o)r(g,f,b),r(g,f,v,!0)}const d=i[f];let w=J(d,g=>g.selector===p&&g.context===h);w||(w={selector:p,context:h,listeners:[]},d.push(w)),w.listeners.push([_,y])}function m(p,h,f,_,P){const y=j(P),d=i[f];let w=!1,g;if(d)for(g=d.length-1;g>=0;g--){const x=d[g];if(x.selector===p&&x.context===h){const{listeners:O}=x;for(let C=O.length-1;C>=0;C--){const[W,{capture:q,passive:V}]=O[C];if(W===_&&q===y.capture&&V===y.passive){O.splice(C,1),O.length||(d.splice(g,1),l(h,f,b),l(h,f,v,!0)),w=!0;break}}if(w)break}}}function b(p,h){const f=j(h),_=new ye(p),P=i[p.type],[y]=$t(p);let d=y;for(;a.element(d);){for(let w=0;w<P.length;w++){const g=P[w],{selector:x,context:O}=g;if(X(d,x)&&R(O,y)&&R(O,d)){const{listeners:C}=g;_.currentTarget=d;for(const[W,{capture:q,passive:V}]of C)q===f.capture&&V===f.passive&&W(_)}}d=U(d)}}function v(p){return b.call(this,p,!0)}return s}class ye{constructor(t){c(this,"currentTarget");c(this,"originalEvent");c(this,"type");this.originalEvent=t,Mt(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function j(e){if(!a.object(e))return{capture:!!e,passive:!1};const t=E({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}const be={id:"events",install:ve};class xe{constructor(t,n,i,o,s){c(this,"id");c(this,"pointer");c(this,"event");c(this,"downTime");c(this,"downTarget");this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=s}}let et;(function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""})(et||(et={}));let nt;(function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""})(nt||(nt={}));let Ee=0;class _e{constructor({pointerType:t,scopeFire:n}){c(this,"interactable",null);c(this,"element",null);c(this,"rect",null);c(this,"_rects");c(this,"edges",null);c(this,"_scopeFire");c(this,"prepared",{name:null,axis:null,edges:null});c(this,"pointerType");c(this,"pointers",[]);c(this,"downEvent",null);c(this,"downPointer",{});c(this,"_latestPointer",{pointer:null,event:null,eventTarget:null});c(this,"prevEvent",null);c(this,"pointerIsDown",!1);c(this,"pointerWasMoved",!1);c(this,"_interacting",!1);c(this,"_ending",!1);c(this,"_stopped",!0);c(this,"_proxy");c(this,"simulation",null);c(this,"doMove",Q(function(t){this.move(t)},"The interaction.doMove() method has been renamed to interaction.move()"));c(this,"coords",{start:L(),prev:L(),cur:L(),delta:L(),velocity:L()});c(this,"_id",Ee++);this._scopeFire=n,this.pointerType=t;const i=this;this._proxy={};for(const o in et)Object.defineProperty(this._proxy,o,{get(){return i[o]}});for(const o in nt)Object.defineProperty(this._proxy,o,{value:(...s)=>i[o](...s)});this._scopeFire("interactions:new",{interaction:this})}get pointerMoveTolerance(){return 1}pointerDown(t,n,i){const o=this.updatePointer(t,n,i,!0),s=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:o,pointerInfo:s,type:"down",interaction:this})}start(t,n,i){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(ne(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?E({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,i){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,i,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let s,r;this.pointerIsDown&&!this.pointerWasMoved&&(s=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=st(s,r)>this.pointerMoveTolerance);const l=this.getPointerIndex(t),u={pointer:t,pointerIndex:l,pointerInfo:this.pointers[l],event:n,type:"move",eventTarget:i,dx:s,dy:r,duplicate:o,interaction:this};o||se(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",u),!o&&!this.simulation&&(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&H(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&re(this.coords.delta),t=E({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,i,o){let s=this.getPointerIndex(t);s===-1&&(s=this.updatePointer(t,n,i,!1));const r=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${r}`,{pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,eventTarget:i,type:r,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=B(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:N(this.pointers,i=>i.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,i,o){const s=B(t);let r=this.getPointerIndex(t),l=this.pointers[r];return o=o===!1?!1:o||/(down|start)$/i.test(n.type),l?l.pointer=t:(l=new xe(s,t,n,null,null),r=this.pointers.length,this.pointers.push(l)),le(this.coords.cur,this.pointers.map(u=>u.pointer),this._now()),oe(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,l.downTime=this.coords.cur.timeStamp,l.downTarget=i,Mt(this.downPointer,t),this.interacting()||(H(this.coords.start,this.coords.cur),H(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:o,pointerInfo:l,pointerIndex:r,interaction:this}),r}removePointer(t,n){const i=this.getPointerIndex(t);if(i===-1)return;const o=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:o,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,i,o){return new rt(this,t,this.prepared.name,n,this.element,i,o)}_fireEvent(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:i,preEnd:o,type:s}=t,{rect:r}=this;if(r&&i==="move"&&(te(this.edges,r,this.coords.delta[this.interactable.options.deltaSource]),r.width=r.right-r.left,r.height=r.bottom-r.top),this._scopeFire(`interactions:before-action-${i}`,t)===!1)return!1;const u=t.iEvent=this._createPreparedEvent(n,i,o,s);return this._scopeFire(`interactions:action-${i}`,t),i==="start"&&(this.prevEvent=u),this._fireEvent(u),this._scopeFire(`interactions:after-action-${i}`,t),!0}_now(){return Date.now()}}const we=_e;function Pe(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):a.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function Te(e,t,n){const i=e.options.preventDefault;if(i!=="never"){if(i==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const o=A(n.target).document,s=t.getDocOptions(o);if(!(s&&s.events)||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||a.element(n.target)&&X(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function Se({interaction:e,event:t}){e.interactable&&e.interactable.checkAndPreventDefault(t)}function Ie(e){const{Interactable:t}=e;t.prototype.preventDefault=Pe,t.prototype.checkAndPreventDefault=function(n){return Te(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const i of e.interactions.list)if(i.element&&(i.element===n.target||R(i.element,n.target))){i.interactable.checkAndPreventDefault(n);return}}})}const Me={id:"core/interactablePreventDefault",install:Ie,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=Se,e),{})},it={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of it.methodOrder){const n=it[t](e);if(n)return n}return null},simulationResume({pointerType:e,eventType:t,eventTarget:n,scope:i}){if(!/down|start/i.test(t))return null;for(const o of i.interactions.list){let s=n;if(o.simulation&&o.simulation.allowResume&&o.pointerType===e)for(;s;){if(s===o.element)return o;s=U(s)}}return null},mouseOrPen({pointerId:e,pointerType:t,eventType:n,scope:i}){if(t!=="mouse"&&t!=="pen")return null;let o;for(const s of i.interactions.list)if(s.pointerType===t){if(s.simulation&&!dt(s,e))continue;if(s.interacting())return s;o||(o=s)}if(o)return o;for(const s of i.interactions.list)if(s.pointerType===t&&!(/down/i.test(n)&&s.simulation))return s;return null},hasPointer({pointerId:e,scope:t}){for(const n of t.interactions.list)if(dt(n,e))return n;return null},idle({pointerType:e,scope:t}){for(const n of t.interactions.list){if(n.pointers.length===1){const i=n.interactable;if(i&&!(i.options.gesture&&i.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&e===n.pointerType)return n}return null}};function dt(e,t){return e.pointers.some(({id:n})=>n===t)}const De=it,Rt=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Oe(e){const t={};for(const s of Rt)t[s]=Xt(s,e);const n=M.pEventTypes;let i;T.PointerEvent?i=[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:i=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],i.push({type:"blur",listener(s){for(const r of e.interactions.list)r.documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=class extends we{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(s){e.interactions.pointerMoveTolerance=s}_now(){return e.now()}},e.interactions={list:[],new(s){s.scopeFire=(l,u)=>e.fire(l,u);const r=new e.Interaction(s);return e.interactions.list.push(r),r},listeners:t,docEvents:i,pointerMoveTolerance:1};function o(){for(const s of e.interactions.list)if(!(!s.pointerIsDown||s.pointerType!=="touch"||s._interacting))for(const r of s.pointers)e.documents.some(({doc:l})=>R(l,r.downTarget))||s.removePointer(r.pointer,r.event)}e.usePlugin(Me)}function Xt(e,t){return function(n){const i=t.interactions.list,o=fe(n),[s,r]=$t(n),l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const u of n.changedTouches){const m=u,b=B(m),v={pointer:m,pointerId:b,pointerType:o,eventType:n.type,eventTarget:s,curEventTarget:r,scope:t},p=mt(v);l.push([v.pointer,v.eventTarget,v.curEventTarget,p])}}else{let u=!1;if(!M.supportsPointerEvent&&/mouse/.test(n.type)){for(let m=0;m<i.length&&!u;m++)u=i[m].pointerType!=="mouse"&&i[m].pointerIsDown;u=u||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!u){const m={pointer:n,pointerId:B(n),pointerType:o,eventType:n.type,curEventTarget:r,eventTarget:s,scope:t},b=mt(m);l.push([m.pointer,m.eventTarget,m.curEventTarget,b])}}for(const[u,m,b,v]of l)v[e](u,n,m,b)}}function mt(e){const{pointerType:t,scope:n}=e,o={interaction:De.search(e),searchDetails:e};return n.fire("interactions:find",o),o.interaction||n.interactions.new({pointerType:t})}function Z({doc:e,scope:t,options:n},i){const{interactions:{docEvents:o},events:s}=t,r=s[i];t.browser.isIOS&&!n.events&&(n.events={passive:!1});for(const u in s.delegatedEvents)r(e,u,s.delegateListener),r(e,u,s.delegateUseCapture,!0);const l=n&&n.events;for(const{type:u,listener:m}of o)r(e,u,m,l)}const $e={id:"core/interactions",install:Oe,listeners:{"scope:add-document":e=>Z(e,"add"),"scope:remove-document":e=>Z(e,"remove"),"interactable:unset":({interactable:e},t)=>{for(let n=t.interactions.list.length-1;n>=0;n--){const i=t.interactions.list[n];i.interactable===e&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:Z,doOnInteractions:Xt,methodNames:Rt},Re=$e;class Xe{constructor(){c(this,"id",`__interact_scope_${Math.floor(Math.random()*100)}`);c(this,"isInitialized",!1);c(this,"listenerMaps",[]);c(this,"browser",M);c(this,"defaults",G(It));c(this,"Eventable",wt);c(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}});c(this,"interactStatic",de(this));c(this,"InteractEvent",rt);c(this,"Interactable");c(this,"interactables",new ge(this));c(this,"_win");c(this,"document");c(this,"window");c(this,"documents",[]);c(this,"_plugins",{list:[],map:{}});c(this,"onWindowUnload",t=>this.removeDocument(t.target));const t=this;this.Interactable=class extends me{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=t.interactables.list.indexOf(this);n<0||(t.interactables.list.splice(n,1),t.fire("interactable:unset",{interactable:this}))}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:i}}of this.listenerMaps)if(i&&i(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:Ye(this,t)}pluginIsInstalled(t){const{id:n}=t;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let i=0;const o=this.listenerMaps.length,s=t.before.reduce((r,l)=>(r[l]=!0,r[gt(l)]=!0,r),{});for(;i<o;i++){const r=this.listenerMaps[i].id;if(r&&(s[r]||s[gt(r)]))break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const i=A(t);n=n?E({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),i=A(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function Ye(e,t){return e.isInitialized=!0,a.window(t)&&bt(t),T.init(t),M.init(t),Vt.init(t),e.window=t,e.document=t.document,e.usePlugin(Re),e.usePlugin(be),e}function gt(e){return e&&e.replace(/\/.*$/,"")}const Yt=new Xe,Ce=Yt.interactStatic,Ae=Ce,ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:globalThis;Yt.init(ke);export{Ae as i};
