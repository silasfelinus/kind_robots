import{d as k,ay as P,a0 as C,a1 as I,r as n,c as u,e as m,f as s,h as E,W as i,X as v,a2 as N,k as T,g as h,n as V,t as M,Z as O,a3 as b,$ as R,p as U,j as A,l as B}from"./BwHe1LQq.js";import{_ as D}from"./D4QKc5ua.js";const f=c=>(U("data-v-ac6ffb5b"),c=c(),A(),c),$={class:"flex flex-col items-center justify-center bg-base-200 rounded-2xl border"},j=f(()=>s("p",{class:"text-lg font-semibold m-4"},"Click to Add a New Pitch",-1)),W={key:0,class:"flex flex-col rounded-xl border p-4 m-2 mb-6 w-full max-w-md bg-white"},z=f(()=>s("h2",{class:"text-2xl font-bold m-4 p-2"},"Create Your Pitch",-1)),F=f(()=>s("p",{class:"text-sm text-gray-600 m-4p-2"}," Craft your pitch to inspire and challenge other artists. ðŸŽ¨ ",-1)),K={class:"inline-flex items-center mb-2"},L=k({__name:"AddPitch",setup(c){const g=P(),_=C(),d=I(),x=n(!1),a=n(null),l=n(null),p=n(!1),t=n({title:"",pitch:"",flavorText:"",designer:"",userId:_.userId,isMature:!1,isOrphan:!1,isPublic:!0}),y=async()=>{try{const r=await g.createPitch(t.value);r.success?(l.value="success",a.value="Pitch successfully created!",x.value=!0,t.value={title:"",pitch:"",flavorText:"",designer:"",userId:_.userId,isMature:!1,isOrphan:!0,isPublic:!0}):(l.value="error",a.value=r.message||"Something went wrong!",d.setError(b.VALIDATION_ERROR,r.message)),a.value&&setTimeout(()=>{a.value=null,l.value=null},3e3)}catch(r){const e=r instanceof Error?r.message:String(r);d.setError(b.UNKNOWN_ERROR,e),l.value="error",a.value=d.message||"",console.error("Error creating pitch:",e)}};return(r,e)=>{const w=R,S=D;return u(),m("div",$,[s("button",{class:"p-4 rounded-2xl border m-2 bg-primary text-white",onClick:e[0]||(e[0]=o=>p.value=!p.value)},[E(w,{name:"typcn:plus",class:"text-4xl"})]),j,p.value?(u(),m("div",W,[z,F,i(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.title=o),placeholder:"Title",class:"mb-2 p-2 rounded border"},null,512),[[v,t.value.title]]),i(s("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.pitch=o),placeholder:"Pitch",class:"mb-2 p-2 rounded border"},null,512),[[v,t.value.pitch]]),i(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.designer=o),placeholder:"Designer",class:"mb-2 p-2 rounded border"},null,512),[[v,t.value.designer]]),s("label",K,[i(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.isMature=o),type:"checkbox",class:"mr-2"},null,512),[[N,t.value.isMature]]),T(" Allow mature content ")]),s("button",{class:"p-2 rounded bg-primary text-white",onClick:y}," Submit Pitch ")])):h("",!0),a.value?(u(),m("div",{key:1,class:V(l.value==="success"?"text-green-500":"text-red-500")},M(a.value),3)):h("",!0),x.value?(u(),O(S,{key:2,id:1})):h("",!0)])}}}),Z=B(L,[["__scopeId","data-v-ac6ffb5b"]]);export{Z as default};
