import L from"./CzI6pVEy.js";import{aO as S,d as B,r as l,G as V,bb as j,c as e,e as o,t as p,H as $,b8 as D,g as v,h as d,k as G,F as g,a6 as k,f as m}from"./7SNmuExf.js";const H=S("componentStore",{state:()=>({folders:[],folderNames:[]}),actions:{async fetchComponentList(n){try{const t=await fetch(`/api/components/${n}`);if(!t.ok)throw new Error("Failed to fetch component list");const{response:c}=await t.json();this.folders.push({folderName:n,components:c})}catch(t){console.error("Failed to fetch component list:",t)}},async fetchFolderNames(){try{const n=await fetch("/api/utils/folderNames");if(!n.ok)throw new Error("Failed to fetch folder names");const{response:t}=await n.json();this.folderNames=t}catch(n){console.error("Failed to fetch folder names:",n)}}}}),A={class:"bg-base-200 p-4"},M={key:0},O={key:0},T={key:1},q={key:1},z={key:2,class:"grid grid-cols-3 gap-4"},I=["onClick"],J={class:"text-center"},K={class:"mt-2"},P={key:3,class:"grid grid-cols-3 gap-4"},Q={class:"col-span-full text-right mb-4"},R={key:0,class:"absolute top-0 left-0 mt-4 ml-4"},U=["onClick"],W={class:"text-center"},X={key:4,class:"text-red-500 mt-4"},ee=B({__name:"ComponentGallery",setup(n){const t=H(),c=l(!1),C=l(""),i=l(""),f=l([]),h=l(null),x=()=>{i.value=""},y=()=>{u.value=[]};t.fetchFolderNames();const u=l([]),b=async s=>{var _;c.value=!0,C.value=s,await t.fetchComponentList(s),u.value=((_=t.folders.find(a=>a.folderName===s))==null?void 0:_.components)||[],c.value=!1},N=V(()=>t.folderNames),w=s=>{i.value=s},F=s=>{h.value=s.message};return j(s=>(console.error("An error occurred:",s),!1)),(s,_)=>{const a=L;return e(),o("div",A,[!c.value&&i.value?(e(),o("div",M,[h.value?(e(),o("div",O," ðŸš¨ Error loading component: "+p(h.value),1)):(e(),o("div",T,[(e(),$(D(i.value),{"onHook:errorCaptured":F},null,32))]))])):v("",!0),c.value?(e(),o("div",q,[d(a,{name:"mdi:loading",class:"animate-spin text-4xl"}),G(" Loading... ")])):u.value.length===0?(e(),o("div",z,[(e(!0),o(g,null,k(N.value,r=>(e(),o("div",{key:r,class:"p-4 rounded-lg hover:bg-primary hover:text-default cursor-pointer transition duration-300 ease-in-out",onClick:E=>b(r)},[m("div",J,[d(a,{name:"bi:folder-fill",class:"text-4xl"}),m("p",K,p(r),1)])],8,I))),128))])):(e(),o("div",P,[m("div",Q,[d(a,{name:"game-icons:fast-backward-button",class:"text-4xl cursor-pointer",onClick:y})]),i.value?(e(),o("div",R,[d(a,{name:"game-icons:companion-cube",class:"text-4xl cursor-pointer",onClick:x})])):v("",!0),(e(!0),o(g,null,k(u.value,r=>(e(),o("div",{key:r,class:"p-4 rounded-lg hover:bg-secondary hover:text-default cursor-pointer transition duration-300 ease-in-out",onClick:E=>w(r)},[m("div",W,[d(a,{name:"game-icons:companion-cube",class:"text-4xl mb-2"}),m("p",null,p(r),1)])],8,U))),128))])),f.value.length>0?(e(),o("div",X," ðŸš¨ Error loading these components: "+p(f.value.join(", ")),1)):v("",!0)])}}});export{ee as default};
