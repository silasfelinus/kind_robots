import{d as x,aJ as M,aP as w,G as i,r as v,W as S,b as u,c as r,e as l,F as p,a5 as m,t as d,D as V,Z as g,$ as T,aQ as b,ai as k}from"./entry.e51736e9.js";const I={class:"live-chat-window bg-base-200 rounded-2xl p-4 max-h-400"},P={class:"chat-messages overflow-y-auto max-h-300"},B={class:"chat-input mt-4"},D=["onKeyup"],K={class:"channel-selector mt-4"},W=["value"],N=x({__name:"PitchChat",setup(A){const y=M(),o=w(),h=i(()=>{var e;return((e=y.selectedPitch)==null?void 0:e.channelId)||0}),a=i(()=>o.channels),c=v(""),s=v(h.value),_=i(()=>{console.log("Type:",typeof a.value,"Value:",a.value);const e=a.value.find(n=>n.id===s.value);return(e==null?void 0:e.messages)||[]}),f=()=>{c.value.trim()!==""&&(Array.isArray(a.value)&&a.value.find(n=>n.id===s.value))&&(o.createMessage({sender:"user",recipient:"recipient",channelId:s.value,content:c.value,userId:0}),c.value="")},C=()=>{o.setCurrentChannel(s.value),o.fetchCurrentChannelWithMessages(s.value)};return S(h,e=>{s.value=e,o.fetchCurrentChannelWithMessages(e),console.log("Type:",typeof a.value,"Value:",a.value)}),(e,n)=>(u(),r("div",I,[l("div",P,[(u(!0),r(p,null,m(_.value,t=>(u(),r("div",{key:t.id,class:"chat-message"},[l("strong",null,d(t.sender)+":",1),V(" "+d(t.content),1)]))),128))]),l("div",B,[g(l("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>c.value=t),type:"text",placeholder:"Type your message...",onKeyup:b(f,["enter"])},null,40,D),[[T,c.value]])]),l("div",K,[g(l("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>s.value=t),onChange:C},[(u(!0),r(p,null,m(a.value,t=>(u(),r("option",{key:t.id,value:t.id},d(t.label),9,W))),128))],544),[[k,s.value]])])]))}});export{N as default};
