import p from"./LoginForm.3a7539fd.js";import{d as x,W as y,E as l,r,V as h,b as n,c as i,e as t,C as k,t as C,N as L,G as b,f as w,F as B}from"./entry.31782de1.js";const N={class:"flex items-center"},S={class:"ml-4"},V={key:0},F=t("div",{class:"hidden lg:inline"},"Salutations,",-1),E={key:1},D=x({__name:"LoginButton",setup(G){const a=y(),d=l(()=>a.user),u=l(()=>a.isLoggedIn),c=r(!1),g=r(""),s=r(!1),_=l(()=>{var e;return((e=d.value)==null?void 0:e.username)||"Kind Guest"});h(u,e=>{e&&(s.value=!1)});const m=async()=>{try{c.value=!0,await a.logout()}catch{g.value="Failed to logout. Please try again."}finally{c.value=!1}};return(e,o)=>{const f=p;return n(),i(B,null,[t("div",N,[t("div",S,[u.value?(n(),i("div",V,[F,k(" "+C(_.value)+"! ",1),t("button",{class:"b p-2 rounded-lg text-white text-sm",onClick:m},"logout")])):(n(),i("div",E,[t("button",{class:"bg-primary p-2 rounded-lg text-white text-lg",onClick:o[0]||(o[0]=v=>s.value=!0)}," Login ")]))])]),L(s)?(n(),b(f,{key:0,onClose:o[1]||(o[1]=v=>s.value=!1)})):w("",!0)],64)}}});export{D as _};
