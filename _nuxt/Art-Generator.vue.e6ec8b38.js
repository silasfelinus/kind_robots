import{d as C,W as M,aP as I,aN as L,E as i,r,b as n,c as d,C as V,e as a,t as b,N as B,Y as G,Z as j,g as w,f as k,G as D,F,a4 as O,a0 as S,aK as U}from"./entry.31782de1.js";import{_ as W}from"./milestone-reward.vue.8d3dd8d5.js";import $ from"./ArtCard.8f406401.js";import{u as H}from"./dreamStore.4b8bf187.js";const J={class:"bg-base-200 rounded-2xl p-8 text-lg"},K=a("h1",{class:"text-2xl mb-4"},"Art-Generator",-1),Y={class:"font-bold"},Z={class:"mt-4"},q=["disabled"],z={key:0,class:"mt-4 flex flex-col items-center"},Q={class:"loader flex justify-center mt-2"},ae=C({__name:"Art-Generator",setup(R){H();const _=M(),N=I(),h=L(),f=i(()=>h.selectedPitch),v=r(!1),g=i(()=>{var o;return(o=h.selectedPitch)==null?void 0:o.pitch}),u=r(""),x=r(""),P=i(()=>_.username),A=i(()=>_.userId),l=r(!1),m=r([]);r(null);const y=r(null),E=()=>{y.value=N.randomLoadMessage()},T=async()=>{var o,s;E(),l.value=!0;try{const e=await fetch("https://kindrobots.org/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:g.value+", "+u.value+", "+x.value,userName:P.value,galleryName:"cafefred",pitchId:(o=f.value)==null?void 0:o.id,title:(s=f.value)==null?void 0:s.title,isMature:!1,isPublic:!0,isOrphan:!0,flavorText:x.value,userId:A.value,galleryId:21})});if(e.ok){const t=await e.json();m.value.unshift(t.newArt),v.value=!0,console.log("Art generated:",m)}else{const t=await e.text(),p=S(new Error(t));console.error("Failed to generate art:",p.message)}}catch(e){const t=S(e);console.error("Error generating art:",t.message)}finally{l.value=!1}};return(o,s)=>{const e=U,t=W,p=$;return n(),d("div",J,[K,V(" Enter your Art Prompt. We will automatically begin with the pitch: "),a("div",Y,b(B(g)),1),a("div",Z,[G(a("input",{"onUpdate:modelValue":s[0]||(s[0]=c=>u.value=c),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[j,u.value]])]),a("button",{disabled:l.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:T}," Generate Art for Pitch ",8,q),l.value?(n(),d("div",z,[a("p",null,b(y.value),1),a("div",Q,[w(e)])])):k("",!0),v.value?(n(),D(t,{key:1,id:11})):k("",!0),(n(!0),d(F,null,O(m.value,c=>(n(),d("div",{key:c.id,class:"mt-4"},[w(p,{art:c},null,8,["art"])]))),128))])}}});export{ae as _};
