import{E,N as n,ar as F,aC as $,aD as x}from"./entry.45f7d34b.js";import{u as U}from"./asyncData.90a51938.js";function O(u,o,y){var h;const[t={},c]=typeof o=="string"?[{},o]:[o,y],e=E(()=>{let r=u;return typeof r=="function"&&(r=r()),n(r)}),s=t.key||F([c,((h=n(t.method))==null?void 0:h.toUpperCase())||"GET",n(t.baseURL),typeof e.value=="string"?e.value:"",n(t.params||t.query),n(t.headers)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);if(!u)throw new Error("[nuxt] [useFetch] request is missing.");const l=s===c?"$f"+s:s;if(!t.baseURL&&typeof e.value=="string"&&e.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:m,lazy:d,default:v,transform:w,pick:g,watch:f,immediate:b,getCachedData:D,deep:_,...k}=t,i=$({...x,...k,cache:typeof t.cache=="boolean"?void 0:t.cache}),C={server:m,lazy:d,default:v,transform:w,pick:g,immediate:b,getCachedData:D,deep:_,watch:f===!1?[]:[i,e,...f||[]]};let a;return U(l,()=>{var p;return(p=a==null?void 0:a.abort)==null||p.call(a),a=typeof AbortController<"u"?new AbortController:{},typeof e.value=="string"&&e.value.startsWith("/"),(t.$fetch||globalThis.$fetch)(e.value,{signal:a.signal,...i})},C)}export{O as u};
