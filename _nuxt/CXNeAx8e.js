import{_ as L}from"./GX1we1G_.js";import k from"./CA_UStIU.js";import{_ as O}from"./B1wRd-Co.js";import{_ as w}from"./DkuvdmtD.js";import B from"./DZbQU-gp.js";import{d as M,Z as T,H as t,$,r as z,o as F,c as l,e as i,f as s,h as a,t as u,g as p,X as U,n as H,F as I,l as N}from"./CH0slHa8.js";import{u as P,T as m,S as c}from"./BURkN8j9.js";import"./rqtZmSiP.js";import"./Bh0syTYo.js";import"./CUP99Z5Z.js";import"./DsKeg9_8.js";import"./BBxmey6X.js";import"./xpZMgVcz.js";import"./Eh43hN4A.js";const j={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K={class:"toggle-section"},X=M({__name:"RoomDashboard",setup(Z){const n=T(),d=t(()=>n.mana),g=t(()=>n.user),_=t(()=>n.isLoggedIn),f=$(),r=P(),e=z(r.getScreenState(m.USER_DASHBOARD)===c.COMPACT);F(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(m.USER_DASHBOARD)===c.COMPACT});const S=t(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),v=t(()=>e.value?"small":"large"),h=t(()=>{var o;return((o=g.value)==null?void 0:o.username)||"Kind Guest"}),b=t(()=>`${d.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(m.USER_DASHBOARD,o)},y=async()=>{if(_.value)try{await f.handleError(async()=>{await n.logout()},"GENERAL_ERROR","Failed to logout. Please try again.")}catch(o){console.error("An unexpected error occurred:",o)}};return(o,q)=>{const R=L,x=k,A=O,D=w,E=B;return l(),i(I,null,[s("header",{class:H(S.value)},[a(R,{size:v.value,class:"avatar",onClick:C},null,8,["size"]),s("div",j,[s("div",V,[s("span",G,u(h.value),1),e.value?p("",!0):(l(),i("span",J,u(b.value),1)),_.value?(l(),i("button",{key:1,class:"logout-button",onClick:U(y,["stop"])}," Logout ")):p("",!0)]),s("div",K,[a(x),a(A)])])],2),a(D),a(E)],64)}}}),_e=N(X,[["__scopeId","data-v-0d465ab6"]]);export{_e as default};
