import{_ as L}from"./UserAvatar.vue.754e8aa1.js";import B from"./theme-toggle.d16b8a3d.js";import{_ as M}from"./ButterflyToggle.vue.6577f341.js";import{_ as O}from"./RoomMeta.vue.82c9cca6.js";import T from"./SmartLinks.9428a1bf.js";import{d as w,W as z,E as s,r as E,o as F,b as l,c as _,e as t,g as a,t as g,f as d,X as U,n as $,F as H,a0 as I,k as P}from"./entry.45f7d34b.js";import{u as j,T as m,S as c}from"./toggleStore.6a8b1b54.js";import"./Icon.e1dc5d8f.js";import"./screenStore.1dc17868.js";import"./RoomTitle.vue.4d038b59.js";import"./nuxt-link.a3695be8.js";const N={class:"flex flex-col w-full"},V={class:"info-section"},G={class:"username"},J={key:0,class:"jellybeans"},K=["onClick"],W={class:"toggle-section"},X=w({__name:"RoomDashboard",setup(q){const n=z(),p=s(()=>n.mana),f=s(()=>n.user),i=s(()=>n.isLoggedIn),r=j(),e=E(r.getScreenState(m.USER_DASHBOARD)===c.COMPACT);F(()=>{r.loadFromLocalStorage(),e.value=r.getScreenState(m.USER_DASHBOARD)===c.COMPACT});const v=s(()=>e.value?"flex flex-row items-center bg-base-200 m-1":"flex flex-col bg-base-200 m-1"),S=s(()=>e.value?"small":"large"),b=s(()=>{var o;return((o=f.value)==null?void 0:o.username)||"Kind Guest"}),h=s(()=>`${p.value}/ 9 Jellybeans Discovered`),C=()=>{e.value=!e.value;const o=e.value?c.COMPACT:c.FULL;r.setScreenState(m.USER_DASHBOARD,o)},y=async()=>{if(i.value)try{await n.logout()}catch(o){const u=I({error:o,message:"Failed to logout. Please try again."});console.error(u.message)}};return(o,u)=>{const x=L,D=B,R=M,k=O,A=T;return l(),_(H,null,[t("header",{class:$(v.value)},[a(x,{size:S.value,class:"avatar",onClick:C},null,8,["size"]),t("div",N,[t("div",V,[t("span",G,g(b.value),1),e.value?d("",!0):(l(),_("span",J,g(h.value),1)),i.value?(l(),_("button",{key:1,class:"logout-button",onClick:U(y,["stop"])},"Logout",8,K)):d("",!0)]),t("div",W,[a(D),a(R)])])],2),a(k),a(A)],64)}}});const le=P(X,[["__scopeId","data-v-05178639"]]);export{le as default};
