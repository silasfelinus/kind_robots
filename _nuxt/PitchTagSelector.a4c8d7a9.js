import{d as S,aO as y,X as m,G as i,r as k,b as o,c as n,e as u,F as M,a5 as C,n as I,D,t as l,f as p,O as E,a1 as T}from"./entry.ce19ad50.js";import{u as B}from"./filterStore.8374b583.js";const F={class:"flex flex-col items-center space-y-8"},N={class:"flex flex-wrap"},U=["onClick"],V={key:0},H={key:0,class:"flex items-center space-x-4"},L=S({__name:"PitchTagSelector",setup(O){const v=B(),r=y(),d=m(),t=i(()=>r.selectedPitch),_=e=>{r.selectPitch(e)},f=i(()=>r.pitches),g=i(()=>{const e=m();return f.value.map(a=>{const c=a.userId===e.userId?e.username:"Unknown User";return{...a,username:c}})}),x=()=>{try{if(t.value){const e=t.value.isMature??!1;r.updatePitch(t.value.id,{isMature:!e})}}catch(e){const a=T(e);console.error("Error toggling pitch Mature:",a.message)}},w=k(!0);i(()=>f.value.filter(e=>!!(d.userId===e.userId||w.value&&e.isPublic||v.showMature&&e.isMature)));const P=async()=>{if(t.value){const e=prompt("Enter new title for the pitch:");e&&await r.editPitchTitle(t.value.id,e)}},b=async()=>{t.value&&confirm("Are you sure you want to delete your pitch?")&&await r.deletePitch(t.value.id)};return(e,a)=>{var c;return o(),n("div",F,[u("div",N,[(o(!0),n(M,null,C(g.value,s=>{var h;return o(),n("button",{key:s.id,class:I([((h=t.value)==null?void 0:h.id)===s.id?"bg-primary text-white":"bg-base-200","rounded-2xl border p-2 m-2"]),onClick:z=>_(s.id)},[D(l(s.title)+" ",1),s.username?(o(),n("span",V,"("+l(s.username)+")",1)):p("",!0)],10,U)}),128))]),t.value&&E(d).userId===((c=t.value)==null?void 0:c.userId)?(o(),n("div",H,[u("button",{class:"bg-warning text-white rounded-2xl p-2",onClick:P},"Edit"),u("button",{class:"bg-info text-white rounded-2xl p-2",onClick:b},"Delete"),u("button",{class:"bg-accent text-white rounded-2xl p-2",onClick:x},l(t.value.isMature?"Hide":"Show")+" Mature ",1)])):p("",!0)])}}});export{L as default};
