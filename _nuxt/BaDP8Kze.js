import T from"./DFMobfPT.js";import{_ as C}from"./D4QKc5ua.js";import I from"./E5vIrAFo.js";import{d as L,a0 as U,a1 as A,r as a,I as f,c as o,e as s,f as t,t as g,g as i,W as B,X as G,h,Z as V,F as j,a7 as F,a3 as x}from"./BwHe1LQq.js";import{u as W}from"./CahFLF8R.js";import{u as K}from"./CWOjJTAn.js";const P={class:"bg-base-200 rounded-2xl p-8 text-lg"},J=t("h1",{class:"text-2xl mb-4"},"Dream-Generator",-1),X={class:"mt-4"},Z={key:0,class:"mt-2"},$={class:"mt-4"},q=["disabled"],z={key:0,class:"mt-4 flex flex-col items-center"},H={class:"loader flex justify-center mt-2"},se=L({__name:"DreamGenerator",setup(Q){const y=W(),m=U(),b=K(),p=A(),_=a(!1),n=a(""),k=a(""),N=f(()=>m.username),w=f(()=>m.userId),l=a(!1),d=a([]),c=a(null),v=a(null),S=()=>{v.value=b.randomLoadMessage()},D=()=>{c.value=y.randomDream(),n.value=c.value||""},E=async()=>{S(),l.value=!0;try{const r=await fetch("/api/art/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n.value,userName:N.value,galleryName:"cafefred",pitchId:6,title:"dreamscapes",isMature:!1,isPublic:!0,isOrphan:!0,flavorText:k.value,userId:w.value,galleryId:21,channelName:"dreamscapes"})});if(r.ok){const e=await r.json();d.value.unshift(e.newArt),_.value=!0,console.log("Art generated:",d.value)}else{const e=await r.text();p.setError(x.UNKNOWN_ERROR,e),console.error("Failed to generate dream:",e)}}catch(r){const e=r instanceof Error?r.message:"Unknown error";p.setError(x.UNKNOWN_ERROR,e),console.error("Error generating art:",e)}finally{l.value=!1}};return(r,e)=>{const R=T,M=C,O=I;return o(),s("div",P,[J,t("div",X,[t("button",{class:"bg-accent rounded-2xl p-2 text-white",onClick:D}," Get Random Dream "),c.value?(o(),s("p",Z,g(c.value),1)):i("",!0)]),t("div",$,[B(t("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>n.value=u),placeholder:"Enter your art prompt",class:"rounded-2xl p-2 w-full text-lg"},null,512),[[G,n.value]])]),t("button",{disabled:l.value,class:"bg-primary rounded-2xl p-2 text-white mt-4 w-full hover:bg-primary-dark",onClick:E}," Generate Dream ",8,q),l.value?(o(),s("div",z,[t("p",null,g(v.value),1),t("div",H,[h(R)])])):i("",!0),_.value?(o(),V(M,{key:1,id:11})):i("",!0),(o(!0),s(j,null,F(d.value,u=>(o(),s("div",{key:u.id,class:"mt-4"},[h(O,{art:u},null,8,["art"])]))),128))])}}});export{se as _};
