import{k as _,r as o,o as p,a as m,b as v,c as f,e as s,aB as g,p as w,i as h}from"./entry.ce19ad50.js";const n=a=>(w("data-v-39d1214a"),a=a(),h(),a),y={class:"teleport-container"},x=n(()=>s("div",{class:"cover top"},null,-1)),b=n(()=>s("div",{class:"cover bottom"},null,-1)),L=n(()=>s("div",{class:"cover left"},null,-1)),I=n(()=>s("div",{class:"cover right"},null,-1)),k={__name:"Magic-Window",setup(a){const l=o(""),r=o(!0);o(0);const i=o(!1);o(0);const d=async()=>{i.value=!0,r.value=!0;const t=document.querySelector(".image-layer");t.classList.add("pixelate-out"),await new Promise(e=>setTimeout(e,750));try{const c=await(await fetch("/api/galleries/random/name/background")).json();c.success&&c.image?l.value=c.image:console.error("API returned an unexpected structure:",c)}catch(e){console.error("Error fetching images:",e)}finally{r.value=!1,setTimeout(()=>{i.value=!1,t.classList.remove("pixelate-out"),t.classList.add("pixelate-in"),setTimeout(()=>{t.classList.remove("pixelate-in")},500)},500)}},u=t=>{const e=window.scrollY;document.documentElement.style.setProperty("--offsetY",`${-e*.5}px`)};return p(()=>{window.addEventListener("scroll",u),d()}),m(()=>{window.removeEventListener("scroll",u)}),(t,e)=>(v(),f("div",y,[s("div",{class:"image-layer",style:g({backgroundImage:"url("+l.value+")"})},null,4),x,b,L,I,s("button",{class:"teleport-button btn btn-primary shadow-xl",onClick:d},"Teleport")]))}},S=_(k,[["__scopeId","data-v-39d1214a"]]);export{S as default};
